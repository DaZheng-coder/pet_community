{"version":3,"sources":["components/UserCard/index.jsx","pages/Community/Content/UserCardList/index.jsx","pages/Community/Content/Topic/TitleCard/index.jsx","pages/Community/Content/Topic/TopicItem/index.jsx","pages/Community/Content/Topic/index.jsx","pages/Community/Content/index.jsx","pages/Community/Content/PetClass/index.jsx","pages/Community/index.jsx","components/NavBar/index.jsx","../node_modules/webpack/buildin/module.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/pubsub-js/src/pubsub.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/nanoid/index.browser.js","components/SwiperImg/index.jsx","components/SwiperContent/contant.js","components/SwiperContent/index.jsx","components/ArticleItem/index.jsx","components/Search/index.jsx","components/TabPage/index.jsx"],"names":["UserCard","this","props","username","_id","avatar","className","Avatar","noClick","url","Component","index","TopicItem","Content","state","dynamicList","page","getDynamics","loadedFun","type","setState","apiDynamicList","then","res","data","length","Pubsub","subscribe","msg","unsubscribe","SwiperContent","loadingMethod","Boolean","indexOf","map","dynamic","DynamicItem","Community","posterList","height","getHeight","handleNavBarDynamicClick","e","stopPropagation","history","push","linkageBarProps","NavBar","leftSlot","centerSlot","Search","bgColor","rightSlot","onClick","SwiperImg","imgsUrl","withRouter","navbar","clientHeight","console","log","style","ref","dom","backgroundColor","top","noSticky","color","goBack","title","module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","_arrayLikeToArray","arr","len","arr2","Array","root","factory","PubSub","messages","lastUid","ALL_SUBSCRIBING_MSG","hasKeys","obj","key","prototype","hasOwnProperty","call","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","setTimeout","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","createDeliveryFunction","topic","String","position","lastIndexOf","substr","hasDirectSubscribersFor","messageHasSubscribers","found","publish","sync","deliver","toString","publishSync","func","token","subscribeAll","subscribeOnce","apply","arguments","clearAllSubscriptions","clearSubscriptions","m","countSubscriptions","count","getSubscriptions","list","value","t","descendantTopicExists","isTopic","isToken","isFunction","result","undefined","window","_unsupportedIterableToArray","o","minLen","n","slice","constructor","name","from","test","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","nanoid","size","id","bytes","crypto","getRandomValues","Uint8Array","byte","toUpperCase","Swiper","loop","autoplay","delay","disableOnInteraction","poster","src","alt","NORMAL","WAITING","LOADING","LOADED","END","ALREADY_WAITING","reloadHeight","preY","status","touching","moreStatus","handleScroll","scrollTop","document","documentElement","body","scrollHeight","moreLoading","moreLoaded","handleTouchStart","touches","clientY","handleTouchMove","isScrollTop","scrollY","move","domBoundingTop","getBoundingClientRect","limitHeight","innerHeight","handleTouchEnd","reLoading","reBackState","loaded","bool","a","addEventListener","throttle","c","onTouchStart","onTouchMove","onTouchEnd","MiniLoading","ArticleItem","brief","user","views","date","img","avatarUrl","placeholder","NoneTabPage","startX","startY","endX","activeIdx","offset","transition","lineLeft","isScroll","handleContentsScroll","hanldeScroll","titles","clientX","preX","currentX","limit","innerWidth","Math","abs","moveTab","contentW","contents","clientWidth","titleW","width","lineW","line","center","parseInt","scrollBy","left","behavior","handleTitlesClick","targetIdx","target","getAttribute","removeEventListener","transform","tabList"],"mappings":"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","file":"static/js/7.81261596.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Avatar from '@/components/Avatar'\r\nimport './index.less'\r\n\r\nexport default class UserCard extends Component {\r\n  render() {\r\n    const {_id,username,avatar, className} = this.props\r\n    return (\r\n      <div className={`usercard-container flex flex-column flex-center${this.props.className || ''}`}>\r\n        <div className=\"margin05-b\">\r\n          <Avatar noClick url={avatar}/>\r\n        </div>\r\n        <span className =\"font25 font-bolder margin05-b\">{username}</span>\r\n        <div className=\"usercard-container-button\">关注</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport UserCard from '@/components/UserCard/'\r\nimport {apiUserListSome} from '@/api/api'\r\nimport './index.less'\r\n\r\nexport default class UserCardList extends Component {\r\n  state = {\r\n    userList: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUserSomeList()\r\n  }\r\n  \r\n  getUserSomeList = () => {\r\n    apiUserListSome().then(res => {\r\n      console.log('获取成功', res.data)\r\n      this.setState({userList: res.data})\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {userList} = this.state\r\n    return (\r\n      <div className=\"recommend-container bg\">\r\n        <div className=\"swiper-wrapper recommend-container-userList\">\r\n          {\r\n            userList && userList.map(user => \r\n              <div key={user._id} className=\"recommend-container-userList-item\">\r\n                <UserCard {...user}/>\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class index extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"titlecard-container flex flex-column\">\r\n        <span className=\"font3 font-bold\">话题广场</span>\r\n        <span className=\"font1\">查看全部话题</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class TopicItem extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"flex margin1-tb\">\r\n        <div className=\"topicitem-img margin05-r\"></div>\r\n        <div className=\"flex flex-column flex1\">\r\n          <span className=\"font3 font-bold\">养宠后的变化</span>\r\n          <span className=\"font-gray\">因为毛孩子的到来，不知不觉就有了改变</span>\r\n        </div>\r\n        <div className=\"flex-center\">\r\n          <span className=\"dynamic-container-handle-focus\">+ 关注</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport TitleCard from './TitleCard'\r\nimport TopicItem from './TopicItem'\r\nimport './index.less'\r\n\r\nexport default class Topic extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"bg padding1\">\r\n        <header className=\"flex topic-header padding1-lr\">\r\n          <TitleCard/>\r\n          <TitleCard/>\r\n          <TitleCard/>\r\n        </header>\r\n        <div className=\"padding2-t\">\r\n          <div className=\"font25\">你可能感兴趣的话题</div>\r\n          <TopicItem/>\r\n          <TopicItem/>\r\n          <TopicItem/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport UserCardList from './UserCardList'\r\nimport DynamicItem from '@/components/DynamicItem'\r\nimport SwiperContent from '@/components/SwiperContent'\r\nimport Pubsub from 'pubsub-js'\r\nimport Topic from './Topic'\r\nimport PetClass from './PetClass'\r\nimport {apiDynamicList} from '@/api/api'\r\nimport './index.less'\r\n\r\nexport default class Content extends Component { \r\n  state = { \r\n    dynamicList: [],\r\n    page: 0\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.getDynamics(() => {})\r\n    Pubsub.subscribe('updateDynamicList', (msg,data) => {\r\n      // 重新刷新列表\r\n      if (data === 'restart') {\r\n        this.setState({page: 0})\r\n        this.getDynamics(() => {})\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    Pubsub.unsubscribe('updateDynamicList')\r\n  }\r\n\r\n  // 获取动态列表，对接接口版\r\n  getDynamics = (loadedFun, type='reload') => {\r\n    let {page} = this.state\r\n    page++\r\n    this.setState({page})\r\n    apiDynamicList(page).then(res => {\r\n      if (res.data.length !== 0) {\r\n        if (type === 'reload') {\r\n          this.setState({dynamicList: res.data})\r\n        } else if (type === 'addLoad') {\r\n          const {dynamicList} = this.state\r\n          this.setState({dynamicList: [...dynamicList,...res.data]})\r\n        }\r\n        loadedFun()\r\n      } else {\r\n        loadedFun(true)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {type} = this.props\r\n    const {dynamicList} = this.state\r\n    return (\r\n      <SwiperContent loadingMethod={this.getDynamics}>\r\n        {/* <header className=\"bg\">\r\n          {\r\n            (type === 'recommend' && <UserCardList/>) ||\r\n            (type === 'follow' && <div className=\"padding1 font-gray follow-span-bg\">为您推荐</div>) ||\r\n            (type === 'dynamic' && <div>\r\n              <input type=\"text\" placeholder=\"请输入文字\"/>\r\n            </div>) || \r\n            (type === 'qa' && '') || \r\n            (type === 'topic' && <Topic/>) || \r\n            (type === 'nearby' && '') ||\r\n            (type === 'petClass' && <PetClass/>)\r\n          }\r\n        </header> */}\r\n        <article className=\"bg padding1-lr\">\r\n          {Boolean(['topic', 'petClass'].indexOf(type)) && \r\n            <div>\r\n              {\r\n                dynamicList && dynamicList.map(dynamic => <DynamicItem key={dynamic._id} {...dynamic} />)\r\n              }\r\n            </div>\r\n          }\r\n        </article>\r\n      </SwiperContent>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport ArticleItem from '@/components/ArticleItem'\r\n\r\nexport default class PetClass extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"bg padding1-lr\">\r\n        <ArticleItem/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n// import Swiper from \"swiper\"\r\nimport 'swiper/swiper-bundle.css'\r\n// import Nav from './Nav'\r\nimport NavBar from '@/components/NavBar'\r\nimport Search from '@/components/Search'\r\n// import LinkageBar from '@/components/LinkageBar'\r\nimport TabPage from '@/components/TabPage'\r\nimport SwiperImg from '@/components/SwiperImg/'\r\nimport Content from './Content'\r\nimport './index.less'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Community extends Component {\r\n  state = {\r\n    // 录播的海报路径\r\n    posterList: [\r\n      'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n      'https://iconfont.alicdn.com/t/4a760730-42c9-4b07-8e56-4a1acba374ad.png',\r\n      'https://iconfont.alicdn.com/t/04c2eeec-1fbb-448c-ae00-4ae2aa580ecd.png'\r\n    ],\r\n    // 达到什么高度时吸顶，默认单位为px\r\n    height: 0\r\n  }\r\n\r\n  // 获取导航栏高度\r\n  getHeight = (height) =>{\r\n    this.setState({height})\r\n  }\r\n\r\n  // 点击创建动态\r\n  handleNavBarDynamicClick = (e) => {\r\n    e.stopPropagation()\r\n    this.props.history.push('/createDynamic')\r\n  }\r\n\r\n  render() {\r\n    const {linkageBarProps, posterList, height} = this.state\r\n    return (\r\n      <div className=\"community-container\">\r\n        <NavBar leftSlot={false} centerSlot={<Search bgColor={'rgb(248,248,248)'}/>} getHeight={this.getHeight} rightSlot={\r\n          <div onClick={this.handleNavBarDynamicClick}>\r\n            <i className=\"iconfont icon-icon-58 font-bolder\" />\r\n            <span className=\"font3 font-bold\"> 创建动态</span>\r\n          </div>}\r\n        />\r\n        <SwiperImg imgsUrl={posterList} className=\"community-container-imgs\"/>\r\n        <Content type=\"recommend\"/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Community)\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n    root.PubSub = PubSub;\n    factory(PubSub);\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        var count = 0;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                count++;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import React, { Component } from 'react'\r\nimport Swiper from \"swiper\"\r\nimport 'swiper/swiper-bundle.css'\r\nimport './index.less'\r\n\r\nexport default class SwiperImg extends Component {\r\n\r\n  componentDidMount(){\r\n     new Swiper('.swiper-container', {\r\n      loop: true,\r\n      autoplay: {\r\n        delay: 1000,\r\n        disableOnInteraction: false\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const {imgsUrl} = this.props\r\n    return (\r\n      <div className={`swiper-container-img swiper-container ${this.props.className || ''}`}>\r\n        <div className=\"swiper-wrapper\">\r\n          {\r\n            imgsUrl && imgsUrl.map((poster,index) => {\r\n              return (\r\n                <div key={index} className=\"swiper-slide\">\r\n                  <img className=\"swiper-container-img-item wh100\" src={poster} alt=\"轮播海报\"/>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// 上拉限制 单位px\r\nexport const PULL_UP_MAX = 100\r\n// 状态\r\n// 正常\r\nexport const NORMAL = 'normal'\r\n// 等待松开触发刷新\r\nexport const WAITING = 'waiting'\r\n// 加载中\r\nexport const LOADING = 'loading'\r\n// 加载完成\r\nexport const LOADED = 'loaded'\r\n// 没有了\r\nexport const END = 'end'\r\n\r\n// 触发可松开刷新的条件 单位px\r\nexport const ALREADY_WAITING = 50","import React, { Component } from 'react'\r\nimport MiniLoading from '@/components/MiniLoading'\r\nimport {\r\n  PULL_UP_MAX,\r\n  NORMAL,\r\n  WAITING,\r\n  LOADING,\r\n  LOADED,\r\n  ALREADY_WAITING,\r\n  END\r\n} from './contant.js'\r\nimport {throttle} from '@/utils'\r\nimport './index.less'\r\n\r\nexport default class SwiperContent extends Component {\r\n  state = {\r\n    reloadHeight: 0,\r\n    preY: null,\r\n    // 状态，NORMAL为下拉即可刷新中状态，waiting为上拉即可刷新，loading为加载中，loaded为加载完成\r\n    status: NORMAL,\r\n    height: 0,\r\n    // 动画开关\r\n    touching: false,\r\n    // 下拉加载更多的状态\r\n    moreStatus: LOADING,\r\n  }\r\n\r\n  componentDidMount () {\r\n    window.addEventListener('scroll', throttle(this.handleScroll))\r\n  }\r\n\r\n  handleScroll = (e) => {\r\n    e.stopPropagation()\r\n    let scrollTop = document.documentElement.scrollTop || document.body.scrollTop\r\n    let clientHeight = document.documentElement.clientHeight || document.body.clientHeight\r\n    let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight\r\n    if (scrollHeight > clientHeight && scrollTop + clientHeight === scrollHeight) {\r\n      this.setState({moreLoading: LOADING})\r\n      this.props.loadingMethod(this.moreLoaded, 'addLoad')\r\n    }\r\n  }\r\n\r\n  handleTouchStart = (e) => {\r\n    // 如果滚动条在最顶部，记录开始触碰点\r\n    this.setState({preY: e.touches[0].clientY})\r\n    this.setState({touching: true})\r\n  }\r\n\r\n  handleTouchMove = (e) => {\r\n    const {reloadHeight,preY} = this.state\r\n    // 如果滚动条滚动到最顶部，touch方向为向下（move>0），限制高度\r\n    // 如果滚动条在最顶部，touch方向向上，自然滑动\r\n    // 获取是否在最顶部\r\n    const isScrollTop = window.scrollY === 0\r\n    const move = e.touches[0].clientY - preY\r\n    if (isScrollTop && move > 0) {\r\n      // 限制高度\r\n      // 首先获取元素距离视口顶部的距离\r\n      const domBoundingTop = this.dom.getBoundingClientRect().top\r\n      // 然后获取视口高度\r\n      const windowHeight = window.innerHeight\r\n      // 计算获取要限制的高度\r\n      const limitHeight = windowHeight - domBoundingTop\r\n      this.setState({height: limitHeight})\r\n\r\n      // 已经限制了高度，开始设置reloadHeight\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // 更新preY为当前点\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (isScrollTop && reloadHeight !== 0) {\r\n      // 当滚动条在最顶部，并且touch方向为向上，还有reloadHeight不是0的情况，也就是正在滚动中\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (reloadHeight === 0) {\r\n      this.setState({height: 0})\r\n    }\r\n    if (reloadHeight < 0) {\r\n      // 解决因为拖动过快而导致的reloadHeight为负数的情况\r\n      this.setState({reloadHeight: 0})\r\n    } else if (reloadHeight < ALREADY_WAITING) {\r\n      this.setState({status: NORMAL})\r\n    } else if (reloadHeight >= ALREADY_WAITING) {\r\n      this.setState({status: WAITING})\r\n    } \r\n    this.setState({preY: e.touches[0].clientY})\r\n  }\r\n\r\n  handleTouchEnd = (e) => {\r\n    const {reloadHeight} = this.state\r\n    if(reloadHeight > ALREADY_WAITING) {\r\n      this.setState({reloadHeight: ALREADY_WAITING})\r\n      this.setState({status: LOADING})\r\n      this.reLoading()\r\n    } else {\r\n      this.reBackState()\r\n    }\r\n    this.setState({touching: false})\r\n  }\r\n\r\n  // 显示加载完的状态\r\n  loaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({status: END})\r\n    } else {\r\n      this.setState({status: LOADED})\r\n    }\r\n    setTimeout(() => this.reBackState(), 500)\r\n  }\r\n\r\n  moreLoaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({moreStatus: END})\r\n    } else {\r\n      this.setState({moreLoading: LOADED})\r\n    }\r\n  }\r\n\r\n  // 加载中\r\n  reLoading = async () => {\r\n    this.props.loadingMethod(this.loaded)\r\n  }\r\n\r\n  // 重置到最初状态\r\n  reBackState = () => {\r\n    this.setState({reloadHeight: 0})\r\n    this.setState({preY: null})\r\n    this.setState({status: NORMAL})\r\n    this.setState({height: 0})\r\n  }\r\n\r\n  render() {\r\n    const {reloadHeight, status, height, touching, moreStatus} = this.state\r\n    return (\r\n      <div\r\n        ref={c => this.dom = c}\r\n        onTouchStart={this.handleTouchStart}\r\n        onTouchMove={this.handleTouchMove}\r\n        onTouchEnd={this.handleTouchEnd}\r\n        style={{height:`${height ? height + 'px' : 'auto'}`}} \r\n        className=\"swiper-content-container\"\r\n      >\r\n        <div className=\"swiper-content-container-holder\">\r\n          <div style={{height: `${reloadHeight}px`}} className={`load-reload ${touching ? '' : 'transition'}`}>\r\n            {\r\n              status === NORMAL ? <div>下拉即可刷新</div> : \r\n                status === WAITING ? <div>松开即可刷新,上拉取消加载</div> :\r\n                  status === LOADING ? <MiniLoading/> :\r\n                    status === LOADED ?<div>加载完成</div> :\r\n                      <div>没有更多了</div>\r\n            }\r\n          </div>\r\n          <div className=\"swiper-content-container-holder-article\">\r\n            {this.props.children} \r\n          </div> \r\n          <div className=\"load-more\">\r\n            {\r\n              moreStatus === LOADING ? <MiniLoading /> : \r\n                moreStatus === LOADED ? <span>加载完成</span> :\r\n                  <span>没有更多了</span>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Avatar from '@/components/Avatar/'\r\nimport DividLine from '@/components/DividLine/'\r\nimport './index.less'\r\n\r\nexport default class ArticleItem extends Component {\r\n  render() {\r\n    const {id, title, brief, user, views, date, img} = this.props\r\n    return (\r\n      <div className=\"article-item margin1-tb\">\r\n        <div className=\"font3 font-bolder margin1-b\">{title}</div>\r\n        <div className=\"flex margin1-b\">\r\n          <div className=\"flex1 flex flex-column\">\r\n            <div className=\"flex margin05-b\">\r\n              <div className=\"margin05-r\">\r\n                <Avatar size=\"mini\" url={user && user.avatarUrl}/>\r\n              </div>\r\n              <div className=\"flex flex-column\">\r\n                <span className=\"font-gray\">{user && user.username}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex1\">\r\n              <span className=\"font25\">{brief}</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-gray\">阅读次数: {views}次 {date}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"article-item-img\">\r\n            <img className=\"wh100\" src={img} alt=\"文章附图\"/>\r\n          </div>\r\n        </div>\r\n        <DividLine/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search-container\" style={{backgroundColor: this.props.bgColor}}>\r\n        <i className=\"search-container-icon iconfont icon-icon-35\"></i>\r\n        <input className=\"search-container-input\" type=\"text\" placeholder=\"搜索你想要的~\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport './index.less'\r\n\r\n// 标签页\r\nexport default class NoneTabPage extends Component {\r\n  state = {\r\n    // 记录最开始的点\r\n    startX: 0,\r\n    startY: 0,\r\n    // 记录最后的点\r\n    endX: 0,\r\n    // 记录当前显示的标签页\r\n    activeIdx: 0,\r\n    // translate移动距离\r\n    offset: 0,\r\n    // 是否添加动画\r\n    transition: false,\r\n    // 标题下方小条的位置\r\n    lineLeft: 0,\r\n    // 判断是否给内容添加高度限制和滚动条\r\n    isScroll: false\r\n  }\r\n\r\n  componentDidMount () {\r\n    // 设置最开始活跃的标签页\r\n    this.moveTab(0)\r\n    window.addEventListener('scroll', this.hanldeScroll)\r\n    this.contents.addEventListener('scroll', this.handleContentsScroll)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.hanldeScroll)\r\n  }\r\n\r\n  handleContentsScroll = (e) => {\r\n    e.stopPropagation()\r\n    console.log('123')\r\n  }\r\n\r\n  // 解决滚动时上部内容不滚动的问题\r\n  hanldeScroll = (e) => {\r\n    e.stopPropagation()\r\n    const heightTop = this.titles.getBoundingClientRect().top\r\n    const {height} = this.props\r\n    if (heightTop <= height) {\r\n      this.setState({isScroll: true})\r\n    } else {\r\n      this.setState({isScroll: false})\r\n    }\r\n  }\r\n\r\n  // 滑动开始\r\n  handleTouchStart = (e) => {\r\n    e.stopPropagation()\r\n    this.setState({transition: false})\r\n    const startX = e.touches[0].clientX\r\n    this.setState({startX})\r\n  }\r\n  // 滑动中\r\n  handleTouchMove = (e) => {\r\n    e.stopPropagation()\r\n    // 判断滑动方向是否上下\r\n    const {offset,startX,preX} = this.state\r\n    const currentX = e.touches[0].clientX\r\n    const move = currentX - preX\r\n    this.setState({offset: offset + move})\r\n    this.setState({preX: currentX})\r\n  }\r\n  // 滑动结束\r\n  handleTouchEnd = (e) => {\r\n    e.stopPropagation()\r\n    let {startX,activeIdx,preX} = this.state\r\n    const {titles} = this.props\r\n    const move = preX - startX\r\n    const limit = window.innerWidth / 3\r\n    if (Math.abs(move) > limit) {\r\n      if (move > 0) {\r\n        if (activeIdx !== 0) {\r\n          activeIdx--\r\n        }\r\n      } else {\r\n        if(activeIdx !== titles.length - 1) {\r\n          activeIdx++\r\n        }\r\n      }\r\n      // this.setState({activeIdx})\r\n    }\r\n    this.moveTab(activeIdx)\r\n  }\r\n\r\n  // 移动标签页\r\n  moveTab = (activeIdx) => {\r\n    // 移动标签页\r\n    const contentW = this.contents.clientWidth\r\n    this.setState({activeIdx})\r\n    this.setState({offset: -contentW * activeIdx})\r\n    this.setState({transition: true})\r\n    // 移动下方小条\r\n    const titleW = this.title.getBoundingClientRect().width\r\n    const lineW = this.line.getBoundingClientRect().width\r\n    this.setState({lineLeft: titleW * activeIdx + titleW / 2 - lineW / 2})\r\n    // 移动标题栏\r\n    const center = parseInt(this.props.titles.length / 2)\r\n    if (activeIdx > center - 1) {\r\n      this.titles.scrollBy({\r\n        left: titleW,\r\n        behavior: 'smooth'\r\n      })\r\n    } else if (activeIdx < center){\r\n      this.titles.scrollBy({\r\n        left: -titleW,\r\n        behavior: 'smooth'\r\n      })\r\n    }\r\n  }\r\n\r\n  // 处理点击标题事件\r\n  handleTitlesClick = (e) => {\r\n    e.stopPropagation()\r\n    const targetIdx = e.target.getAttribute('index')\r\n    console.log('targetIdx', targetIdx)\r\n    this.moveTab(targetIdx)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      // 父组件传入的标签页 标题，type:数组\r\n      titles\r\n    } = this.props\r\n    const {offset,transition,activeIdx,lineLeft,isScroll} = this.state\r\n    return (\r\n      <div className=\"tp-ctr\">\r\n        <div onClick={this.handleTitlesClick} style={{top: this.props.height + 'px'}} ref={c => this.titles = c} className=\"tp-crt-titles bg\">\r\n          {titles && titles.map((title,index) => \r\n            <div index={index} ref={c => this.title = c} key={index} className=\"tp-ctr-titles-title\">\r\n              <span index={index} className={parseInt(activeIdx) === index ? 'tp-crt-titles-title-active': ''}>{title}</span>\r\n            </div>\r\n          )}\r\n          <div ref={c => this.line = c} style={{left: `${lineLeft}px`}} className=\"active-line\"></div>\r\n        </div>\r\n        <div className=\"tp-ctr-contents-container\">\r\n          <div className={`${transition ? 'transition' : ''} tp-ctr-contents`}\r\n            // onTouchStart={this.handleTouchStart}\r\n            // onTouchMove={this.handleTouchMove}\r\n            // onTouchEnd={this.handleTouchEnd}\r\n            style={{transform: `translateX(${offset}px)`}}\r\n            ref={c => this.contents = c}\r\n          >\r\n            {titles && titles.map((title,index) => \r\n              <div key={index} \r\n                className={`${isScroll ? 'tp-ctr-content-scroll' : ''} tp-ctr-contents-content`}>\r\n                {activeIdx == index && this.props.tabList[index]}\r\n              </div>\r\n            )}\r\n          </div>  \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}