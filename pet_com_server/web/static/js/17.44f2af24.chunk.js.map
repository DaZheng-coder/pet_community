{"version":3,"sources":["pages/Home/UserInfo/Question/index.jsx","pages/Home/UserInfo/index.jsx","pages/Home/index.jsx","components/HandleItem/Item/index.jsx","components/SwiperContent/contant.js","components/SwiperContent/index.jsx","components/HandleItem/index.jsx","components/ArticleItem/index.jsx"],"names":["Question","state","questions","className","Component","UserInfo","id","using","type","changePet","props","history","push","this","url","name","sex","day","onClick","Avatar","map","item","HandleItem","withRouter","Home","pet","articleList","title","brief","user","username","avatarUrl","img","views","date","SwiperContent","article","ArticleItem","Item","click","hidden","children","src","alt","iconClass","text","NORMAL","WAITING","LOADING","LOADED","END","ALREADY_WAITING","reloadHeight","preY","status","height","touching","moreStatus","handleScroll","e","stopPropagation","scrollTop","document","documentElement","body","clientHeight","scrollHeight","setState","moreLoading","loadingMethod","moreLoaded","handleTouchStart","touches","clientY","handleTouchMove","isScrollTop","window","scrollY","move","domBoundingTop","dom","getBoundingClientRect","top","limitHeight","innerHeight","handleTouchEnd","reLoading","reBackState","loaded","bool","console","log","setTimeout","a","addEventListener","throttle","ref","c","onTouchStart","onTouchMove","onTouchEnd","style","MiniLoading","size"],"mappings":"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","file":"static/js/17.44f2af24.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Question extends Component {\r\n  state = {\r\n    questions: [\r\n      '没吃饭吗？',\r\n      '是不是傻？',\r\n      '下雨了吗？',\r\n      '好家伙好家伙'\r\n    ],\r\n  }\r\n\r\n  // get computed() {\r\n  //   const {questions,currentIndex} = this.state\r\n  //   return \r\n  // }\r\n\r\n  // componentDidMount() {\r\n  //   this.setState({})\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"question-container flex\">\r\n        <span className=\"font3 question-container-left margin1-r\">问题求助</span>\r\n        <div className=\"question-container-center flex1 font-gray\">\r\n          <div>\r\n            <span>嘻我兮兮我嘻嘻嘻嘻哈哈哈哈哈乐乐乐咯</span>\r\n          </div>\r\n        </div>\r\n        <i className=\"question-container-right iconfont icon-icon-64\"></i>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Avatar from '@/components/Avatar/'\r\nimport HandleItem from '@/components/HandleItem/'\r\nimport Question from './Question/'\r\nimport './index.less'\r\n\r\nclass UserInfo extends Component {\r\n  state = {\r\n    // 当前宠物id\r\n    id:1,\r\n    using: [\r\n      {id: 1, type:'tips'},\r\n      {id: 2, type:'weightRecord'},\r\n      {id: 3, type:'wrongRecord'}\r\n    ]\r\n  }\r\n\r\n  changePet = () => {this.props.history.push(`/petInfo/${this.state.id}`)}\r\n\r\n  render() {\r\n    const {url, name, type, sex, day} = this.props\r\n    const {using} = this.state\r\n    return (\r\n      <div className=\"userinfo-container\">\r\n        <div className=\"flex margin1-b\">\r\n          <div className=\"margin1-r\" onClick={this.changePet}>\r\n            <Avatar url={url}/>\r\n          </div>\r\n          <div className=\"flex1 flex-column\">\r\n            <div>\r\n              <span className=\"line-center margin1-r font3 font-bolder\">{name}</span>\r\n              <span className=\"line-center font-gray\">{type}</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"userinfo-sex line-center margin1-r font-theme default-span\"><i className={`iconfont ${sex ? 'icon-icon-25' : 'icon-icon-27'}`}></i></span>\r\n              <span className=\"line-center margin1-r default-span inline-block width1\">{day}天</span>\r\n              <span className=\"line-center margin1-r\">已为你相伴{day}天~</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <span className=\"default-span\" onClick={this.changePet}>切换宠物</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex handle-list\">\r\n          {\r\n            using.map(item => {\r\n              return <HandleItem key={item.id} type={item.type}/>\r\n            })\r\n          }\r\n          <HandleItem type=\"more\"/>\r\n        </div>\r\n        <Question />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(UserInfo)\r\n","import React, { Component } from 'react'\r\nimport UserInfo from './UserInfo/'\r\nimport ArticleItem from '@/components/ArticleItem/'\r\nimport SwiperContent from '@/components/SwiperContent'\r\nimport './index.less'\r\nexport default class Home extends Component {\r\n\r\n  state = {\r\n    pet: {\r\n      url: 'https://iconfont.alicdn.com/s/e332943a-3ed4-46ca-80fb-585bff2a7b9b_origin.svg',\r\n      name: '火焰犬',\r\n      type: '火系',\r\n      day: 5\r\n    },\r\n    articleList: [\r\n      {\r\n        id: 1,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      },\r\n      {\r\n        id: 2,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      },\r\n      {\r\n        id: 3,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      },\r\n      {\r\n        id: 4,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      },\r\n      {\r\n        id: 5,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      },\r\n      {\r\n        id: 6,\r\n        title: '如何处理狗狗的眼部感染',\r\n        brief: '简介',\r\n        user: {\r\n          id: 11,\r\n          username: '铲屎官官方',\r\n          avatarUrl: 'https://iconfont.alicdn.com/t/2affe7cb-c6fa-468d-a210-9d26ddb5e241.png'\r\n        },\r\n        img: 'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n        views: 98,\r\n        date: '2020-2-2'\r\n      }\r\n    ]\r\n  }\r\n\r\n  render() {\r\n    const {pet,articleList} = this.state\r\n    return (\r\n      <div className=\"home-container page-pd bg\">\r\n        <UserInfo {...pet}/>\r\n        <SwiperContent>\r\n          <h2 className=\"font4 font-bolder home-title\">文章推荐</h2>\r\n          {\r\n            articleList.map(article => {\r\n              return (\r\n                <ArticleItem key={article.id} {...article}/>\r\n              )\r\n            })\r\n          }\r\n        </SwiperContent>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Item extends Component {\r\n  render() {\r\n    return (\r\n      <div className={`flex flex-center flex-column flex-wrap-children ${this.props.className}`} onClick={this.props.click || null}>\r\n        <div hidden className=\"handle-item flex-center\">\r\n          {\r\n            this.props.children ||\r\n              (this.props.url && <img className=\"wh100\" src={this.props.url} alt=\"图标\" />) || \r\n              <i className={`iconfont ${this.props.iconClass}`} />\r\n          }\r\n        </div>\r\n        <span className=\"handle-item-text\">{this.props.text}</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// 上拉限制 单位px\r\nexport const PULL_UP_MAX = 100\r\n// 状态\r\n// 正常\r\nexport const NORMAL = 'normal'\r\n// 等待松开触发刷新\r\nexport const WAITING = 'waiting'\r\n// 加载中\r\nexport const LOADING = 'loading'\r\n// 加载完成\r\nexport const LOADED = 'loaded'\r\n// 没有了\r\nexport const END = 'end'\r\n\r\n// 触发可松开刷新的条件 单位px\r\nexport const ALREADY_WAITING = 50","import React, { Component } from 'react'\r\nimport MiniLoading from '@/components/MiniLoading'\r\nimport {\r\n  PULL_UP_MAX,\r\n  NORMAL,\r\n  WAITING,\r\n  LOADING,\r\n  LOADED,\r\n  ALREADY_WAITING,\r\n  END\r\n} from './contant.js'\r\nimport {throttle} from '@/utils'\r\nimport './index.less'\r\n\r\nexport default class SwiperContent extends Component {\r\n  state = {\r\n    reloadHeight: 0,\r\n    preY: null,\r\n    // 状态，NORMAL为下拉即可刷新中状态，waiting为上拉即可刷新，loading为加载中，loaded为加载完成\r\n    status: NORMAL,\r\n    height: 0,\r\n    // 动画开关\r\n    touching: false,\r\n    // 下拉加载更多的状态\r\n    moreStatus: LOADING,\r\n  }\r\n\r\n  componentDidMount () {\r\n    window.addEventListener('scroll', throttle(this.handleScroll))\r\n  }\r\n\r\n  handleScroll = (e) => {\r\n    e.stopPropagation()\r\n    let scrollTop = document.documentElement.scrollTop || document.body.scrollTop\r\n    let clientHeight = document.documentElement.clientHeight || document.body.clientHeight\r\n    let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight\r\n    if (scrollHeight > clientHeight && scrollTop + clientHeight === scrollHeight) {\r\n      this.setState({moreLoading: LOADING})\r\n      this.props.loadingMethod(this.moreLoaded, 'addLoad')\r\n    }\r\n  }\r\n\r\n  handleTouchStart = (e) => {\r\n    // 如果滚动条在最顶部，记录开始触碰点\r\n    this.setState({preY: e.touches[0].clientY})\r\n    this.setState({touching: true})\r\n  }\r\n\r\n  handleTouchMove = (e) => {\r\n    const {reloadHeight,preY} = this.state\r\n    // 如果滚动条滚动到最顶部，touch方向为向下（move>0），限制高度\r\n    // 如果滚动条在最顶部，touch方向向上，自然滑动\r\n    // 获取是否在最顶部\r\n    const isScrollTop = window.scrollY === 0\r\n    const move = e.touches[0].clientY - preY\r\n    if (isScrollTop && move > 0) {\r\n      // 限制高度\r\n      // 首先获取元素距离视口顶部的距离\r\n      const domBoundingTop = this.dom.getBoundingClientRect().top\r\n      // 然后获取视口高度\r\n      const windowHeight = window.innerHeight\r\n      // 计算获取要限制的高度\r\n      const limitHeight = windowHeight - domBoundingTop\r\n      this.setState({height: limitHeight})\r\n\r\n      // 已经限制了高度，开始设置reloadHeight\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // 更新preY为当前点\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (isScrollTop && reloadHeight !== 0) {\r\n      // 当滚动条在最顶部，并且touch方向为向上，还有reloadHeight不是0的情况，也就是正在滚动中\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (reloadHeight === 0) {\r\n      this.setState({height: 0})\r\n    }\r\n    if (reloadHeight < 0) {\r\n      // 解决因为拖动过快而导致的reloadHeight为负数的情况\r\n      this.setState({reloadHeight: 0})\r\n    } else if (reloadHeight < ALREADY_WAITING) {\r\n      this.setState({status: NORMAL})\r\n    } else if (reloadHeight >= ALREADY_WAITING) {\r\n      this.setState({status: WAITING})\r\n    } \r\n    this.setState({preY: e.touches[0].clientY})\r\n  }\r\n\r\n  handleTouchEnd = (e) => {\r\n    const {reloadHeight} = this.state\r\n    if(reloadHeight > ALREADY_WAITING) {\r\n      this.setState({reloadHeight: ALREADY_WAITING})\r\n      this.setState({status: LOADING})\r\n      this.reLoading()\r\n    } else {\r\n      this.reBackState()\r\n    }\r\n    this.setState({touching: false})\r\n  }\r\n\r\n  // 显示加载完的状态\r\n  loaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({status: END})\r\n    } else {\r\n      this.setState({status: LOADED})\r\n    }\r\n    setTimeout(() => this.reBackState(), 500)\r\n  }\r\n\r\n  moreLoaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({moreStatus: END})\r\n    } else {\r\n      this.setState({moreLoading: LOADED})\r\n    }\r\n  }\r\n\r\n  // 加载中\r\n  reLoading = async () => {\r\n    this.props.loadingMethod(this.loaded)\r\n  }\r\n\r\n  // 重置到最初状态\r\n  reBackState = () => {\r\n    this.setState({reloadHeight: 0})\r\n    this.setState({preY: null})\r\n    this.setState({status: NORMAL})\r\n    this.setState({height: 0})\r\n  }\r\n\r\n  render() {\r\n    const {reloadHeight, status, height, touching, moreStatus} = this.state\r\n    return (\r\n      <div\r\n        ref={c => this.dom = c}\r\n        onTouchStart={this.handleTouchStart}\r\n        onTouchMove={this.handleTouchMove}\r\n        onTouchEnd={this.handleTouchEnd}\r\n        style={{height:`${height ? height + 'px' : 'auto'}`}} \r\n        className=\"swiper-content-container\"\r\n      >\r\n        <div className=\"swiper-content-container-holder\">\r\n          <div style={{height: `${reloadHeight}px`}} className={`load-reload ${touching ? '' : 'transition'}`}>\r\n            {\r\n              status === NORMAL ? <div>下拉即可刷新</div> : \r\n                status === WAITING ? <div>松开即可刷新,上拉取消加载</div> :\r\n                  status === LOADING ? <MiniLoading/> :\r\n                    status === LOADED ?<div>加载完成</div> :\r\n                      <div>没有更多了</div>\r\n            }\r\n          </div>\r\n          <div className=\"swiper-content-container-holder-article\">\r\n            {this.props.children} \r\n          </div> \r\n          <div className=\"load-more\">\r\n            {\r\n              moreStatus === LOADING ? <MiniLoading /> : \r\n                moreStatus === LOADED ? <span>加载完成</span> :\r\n                  <span>没有更多了</span>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Item from './Item'\r\nimport './index.less'\r\n\r\nclass HandleItem extends Component {\r\n  render() {\r\n    if(this.props.type) {\r\n      const {type} = this.props\r\n      switch(type) {\r\n        case 'tips':\r\n          return (\r\n            <Item text=\"提醒\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/s/a5b6a6c9-d219-4cf1-af45-75a914e6de26_origin.svg\" alt=\"提醒图标\"/>\r\n            </Item>\r\n          )\r\n        case 'weightRecord':\r\n          return (\r\n            <Item text=\"体重记录\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/s/0d4244d7-92bb-40e0-b627-c6940b92d437_origin.svg\" alt=\"体重记录\"/>\r\n            </Item>\r\n          )\r\n        case 'wrongRecord':\r\n          return (\r\n            <Item text=\"异常记录\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/s/d93a7074-ceda-4a56-992e-15260a9c27ae_origin.svg\" alt=\"异常记录\"/>\r\n            </Item>\r\n          )\r\n        case 'petMedicalRecord':\r\n          return (\r\n            <Item text=\"宠物病历\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/s/b11c707a-19ed-4d1f-8679-65ccdf66b838_origin.svg\" alt=\"宠物病历\"/>\r\n            </Item>\r\n          )\r\n        case 'notes':\r\n          return (\r\n            <Item text=\"记事\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/t/63239314-5906-4cac-88f6-04c946449b60.png\" alt=\"记事\"/>\r\n            </Item>\r\n          )\r\n        case 'bookKeeping':\r\n          return (\r\n            <Item text=\"记账\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/t/2ead837d-1323-42d5-91e5-765c60e2327d.png\" alt=\"记账\"/>\r\n            </Item>\r\n          )\r\n        case 'petWalking':\r\n          return (\r\n            <Item text=\"溜宠\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/t/aa8abbe2-2c6e-4374-b427-3c8d3d27a3c0.png\" alt=\"溜宠\"/>\r\n            </Item>\r\n          )\r\n        case 'storeGoods':\r\n          return (\r\n            <Item text=\"囤货\">\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/t/a7f0ff1b-cb9e-41a6-a666-47f58622a822.png\" alt=\"囤货\"/>\r\n            </Item>\r\n          )\r\n        case 'more':\r\n          return (\r\n            <Item text=\"更多\" click={() => {this.props.history.push('/more')}}>\r\n              <img className=\"wh100\" src=\"https://iconfont.alicdn.com/s/17e0faf3-c359-4f86-997a-935499e69683_origin.svg\" alt=\"更多\"/>\r\n            </Item>\r\n          )\r\n        case 'edit':\r\n          return (\r\n            <Item text=\"编辑\" click={this.props.click || null}>\r\n              <div className=\"radius05 padding05 handle-item-edit\"><i className=\"iconfont icon-icon-56 font-white\"></i></div>\r\n            </Item>\r\n          )\r\n        default:\r\n          return <Item {...this.props}/>\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(HandleItem)","import React, { Component } from 'react'\r\nimport Avatar from '@/components/Avatar/'\r\nimport DividLine from '@/components/DividLine/'\r\nimport './index.less'\r\n\r\nexport default class ArticleItem extends Component {\r\n  render() {\r\n    const {id, title, brief, user, views, date, img} = this.props\r\n    return (\r\n      <div className=\"article-item margin1-tb\">\r\n        <div className=\"font3 font-bolder margin1-b\">{title}</div>\r\n        <div className=\"flex margin1-b\">\r\n          <div className=\"flex1 flex flex-column\">\r\n            <div className=\"flex margin05-b\">\r\n              <div className=\"margin05-r\">\r\n                <Avatar size=\"mini\" url={user && user.avatarUrl}/>\r\n              </div>\r\n              <div className=\"flex flex-column\">\r\n                <span className=\"font-gray\">{user && user.username}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex1\">\r\n              <span className=\"font25\">{brief}</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-gray\">阅读次数: {views}次 {date}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"article-item-img\">\r\n            <img className=\"wh100\" src={img} alt=\"文章附图\"/>\r\n          </div>\r\n        </div>\r\n        <DividLine/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}