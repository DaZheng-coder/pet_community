{"version":3,"sources":["utils/index.js","redux/constant.js","components/Footer/FooterNavLink/index.jsx","components/Footer/index.jsx","components/Loading/index.jsx","router/Router.jsx","App.js","reportWebVitals.js","redux/reducer/user.js","redux/reducer/index.js","redux/store.js","index.js"],"names":["isIOS","navigator","userAgent","toLowerCase","match","localStorageSet","name","data","obj","expire","Date","getTime","localStorage","setItem","JSON","stringify","localStorageGet","storage","getItem","time","result","parse","removeItem","throttle","fn","canRun","setTimeout","apply","arguments","dataURLtoFile","dataUrl","fileName","arr","split","mime","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","SET_USER","DELETE_USER","FooterNavLink","this","props","to","iconClass","text","activeClassName","className","Component","Footer","state","footerNavArr","user","indexOf","history","location","pathname","_id","connect","withRouter","Loading","Login","lazy","Register","Home","Community","Shop","User","PetInfo","More","UserSetting","DynamicDetail","GoodsDetail","FillOrder","Cart","ArticleDetail","AddressList","BuySuccess","MyCommon","MyDynamic","CreateDynamic","Router","console","log","replace","fallback","path","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initState","username","combineReducers","preState","action","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.4be8098d.chunk.js","sourcesContent":["/**\r\n * 只执行一次的函数\r\n * @param {*} fn 执行的函数\r\n * @param {*} context 修改函数的this指向\r\n */\r\nexport function once(fn, context) {\r\n  let result\r\n  return function() {\r\n    if(fn) {\r\n      result = fn.apply(context || this, arguments)\r\n      fn = null\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\n/**\r\n * 是否是ios系统\r\n */\r\nexport function isIOS() {\r\n  var ua = navigator.userAgent.toLowerCase()\r\n  if(ua.match(/iPhone\\sOS/i) == \"iphone os\") {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n  设置localStorage并且设置过期时间\r\n*/\r\n\r\nexport const localStorageSet = (name, data) => {\r\n  const obj = {\r\n    data,\r\n    expire: new Date().getTime() + 1000 * 60 * 60 * 60\r\n  }\r\n  localStorage.setItem(name, JSON.stringify(obj))\r\n}\r\n\r\n/**\r\n  获取localStorage中的值\r\n*/\r\nexport const localStorageGet = name => {\r\n  const storage = localStorage.getItem(name)\r\n  const time = new Date().getTime()\r\n  let result = null\r\n  if (storage) {\r\n    const obj = JSON.parse(storage)\r\n    if (time < obj.expire) {\r\n      result = obj.data\r\n    } else {\r\n      localStorage.removeItem(name)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n * \r\n * @param {节流} fn 执行的函数\r\n */\r\nexport function throttle (fn) {\r\n  let canRun =  true\r\n  return function () {\r\n    if (!canRun) return \r\n    canRun = false\r\n    setTimeout(() => {\r\n      fn.apply(this, arguments)\r\n      canRun = true\r\n    }, 500)\r\n  }\r\n}\r\n\r\n// 将base64文件转化为文件\r\nexport function dataURLtoFile (dataUrl, fileName) {\r\n  var arr = dataUrl.split(','),mime = arr[0].match(/:(.*?);/)[1],\r\n    bstr = atob(arr[1]),n = bstr.length, u8arr = new Uint8Array(n)\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], fileName, {type: mime});\r\n}","// user相关\r\nexport const SET_USER = 'set_user'\r\nexport const DELETE_USER = 'delete_user'","import React, { Component } from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport './index.less'\r\nexport default class FooterNavLink extends Component {\r\n  render() {\r\n    const {to,iconClass,text} = this.props\r\n    return (\r\n      <NavLink activeClassName=\"footer-active\" className='footer-item' to={to}>\r\n        <i className={`iconfont ${iconClass}`} />\r\n        <span className='spec-text'>{text}</span>\r\n      </NavLink>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport FooterNavLink from './FooterNavLink/'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport './index.less'\r\n\r\nclass Footer extends Component {\r\n  state = {\r\n    // 存放显示下方导航栏的数组\r\n    footerNavArr: [\r\n      // '/home',\r\n      '/community',\r\n      '/shop',\r\n      '/user'\r\n    ]\r\n  }\r\n\r\n  render() {\r\n    const {footerNavArr} = this.state\r\n    const {user} = this.props\r\n    return (\r\n      <Fragment>\r\n        {\r\n          footerNavArr.indexOf(this.props.history.location.pathname) !== -1 && (\r\n            <Fragment>\r\n              {/* <div className=\"mask footer-mask sticky\"></div> */}\r\n              <section className='footer-container'>\r\n                {/* <FooterNavLink to='/home' text='主页' iconClass='icon-icon-7'/> */}\r\n                <FooterNavLink to='/community' text='宠圈' iconClass='icon-icon-135'/>\r\n                {/* <div className='user-handle'>\r\n                  <i className='user-handle-btn iconfont icon-icon-56'></i>\r\n                </div> */}\r\n                <FooterNavLink to='/shop' text='商城' iconClass='icon-icon-20'/>\r\n                <FooterNavLink to={user._id ? '/user' : '/login'} text={user._id ? '我的' : '登录'} iconClass='icon-icon-14'/>\r\n              </section>\r\n            </Fragment>\r\n          ) \r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(state => ({user: state.user}))(withRouter(Footer))\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        加载中...\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, lazy, Suspense } from 'react'\r\nimport {Redirect, Route, withRouter} from 'react-router-dom'\r\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\r\n// 路由加载中组件\r\nimport Loading from '../components/Loading/'\r\n\r\nconst Login = lazy(() => import('../pages/Login'))\r\nconst Register = lazy(() => import('../pages/Register'))\r\n\r\nconst Home = lazy(() => import('../pages/Home'))\r\nconst Community = lazy(() => import('../pages/Community'))\r\nconst Shop = lazy(() => import('../pages/Shop'))\r\nconst User = lazy(() => import('../pages/User'))\r\n\r\nconst PetInfo = lazy(() => import('../pages/PetInfo'))\r\nconst More = lazy(() => import('../pages/More'))\r\nconst UserSetting = lazy(() => import('../pages/UserSetting'))\r\nconst DynamicDetail = lazy(() => import('../pages/DynamicDetail'))\r\nconst GoodsDetail = lazy(() => import('../pages/GoodsDetail'))\r\nconst FillOrder = lazy(() => import('../pages/FillOrder'))\r\nconst Cart = lazy(() => import('../pages/Cart'))\r\nconst ArticleDetail = lazy(() => import('../pages/ArticleDetail'))\r\nconst AddressList = lazy(() => import('../pages/AddressList'))\r\nconst BuySuccess = lazy(() => import('../pages/BuySuccess'))\r\n\r\nconst MyCommon = lazy(() => import('../pages/MyCommon'))\r\nconst MyDynamic = lazy(() => import('../pages/MyDynamic'))\r\n\r\nconst CreateDynamic = lazy(() => import('../pages/CreateDynamic'))\r\n\r\nclass Router extends Component {\r\n\r\n  componentDidMount() {\r\n    // 当地址为空时，跳转到首页\r\n    const {pathname} = this.props.location\r\n    console.log('router', this.props)\r\n    if (pathname === '/') {\r\n      this.props.history.replace('/community')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Suspense fallback={<Loading/>}>\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n\r\n          <CacheRoute path='/home' component={Home}/>\r\n          <CacheRoute path='/community' component={Community}/>\r\n          <CacheRoute path='/shop' component={Shop}/>\r\n          <Route path='/user' component={User}/>\r\n\r\n          <Route path=\"/petInfo/:id\" component={PetInfo}/>\r\n          <Route path=\"/more\" component={More} />\r\n          <Route path='/userSetting' component={UserSetting} />\r\n          <Route path='/dynamicDetail/:id' component={DynamicDetail} />\r\n          <Route path=\"/goodsDetail/:_id\" component={GoodsDetail} />\r\n          <Route path=\"/commodity/:id\" component={GoodsDetail} />\r\n          <Route path=\"/fillOrder\" component={FillOrder} />\r\n          <Route path='/cart' component={Cart} />\r\n          <Route path='/articleDetail/:id' component={ArticleDetail} />\r\n          <Route path='/addressList' component={AddressList} />\r\n          <Route path='/buySuccess' component={BuySuccess}/>\r\n          <Route path='/myCommon' component={MyCommon} />\r\n          <Route path='/myDynamic' component={MyDynamic} />\r\n          <Route path='/createDynamic' component={CreateDynamic} />\r\n        </Suspense>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Router)\r\n","import Footer from './components/Footer/'\nimport Router from './router/Router'\nimport {localStorageGet,localStorageSet} from '@/utils'\nimport './assets/iconfont/iconfont.css'\nimport './style/base.less'\nimport './style/common.less'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div>\n        <Router />\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {SET_USER, DELETE_USER} from '../constant'\r\nimport {localStorageSet, localStorageGet} from '@/utils'\r\n\r\n// 初始化状态\r\nconst initState = () => {\r\n  const user = localStorageGet('user')\r\n  if (user) {\r\n    return user\r\n  } else {\r\n    return {\r\n      username: null,\r\n      _id: null\r\n    }\r\n  }\r\n}\r\n\r\nexport default function userReducer(preState=initState(), action) {\r\n  const {type,data} = action\r\n  switch (type) {\r\n    case SET_USER:\r\n      localStorageSet('user', data)\r\n      return data\r\n    case DELETE_USER:\r\n      localStorage.removeItem('user')\r\n      localStorage.removeItem('userToken')\r\n      return initState\r\n    default:\r\n      return preState\r\n  }\r\n}","/* \r\n\t该文件用于汇总所有的reducer为一个总的reducer\r\n*/\r\n//引入combineReducers，用于汇总多个reducer\r\nimport {combineReducers} from 'redux'\r\nimport user from './user'\r\n\r\n//汇总所有的reducer变为一个总的reducer\r\nexport default  combineReducers({\r\n  user\r\n})\r\n","import {createStore, applyMiddleware} from 'redux'\r\n\r\nimport reducer from './reducer'\r\nimport thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nexport default createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\nimport store from './redux/store'\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}