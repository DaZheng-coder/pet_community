(this.webpackJsonppet_com_web=this.webpackJsonppet_com_web||[]).push([[10],{174:function(t,e,n){},203:function(t,e,n){"use strict";n.r(e);var r=n(52),c=n(1),o=n(8),s=n(9),i=n(11),a=n(10),u=n(0),l=n(17),f=n(50),p=n(71),d=n(82),b=n(55),j=function(t){Object(i.a)(n,t);var e=Object(a.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.text;return Object(c.jsxs)("div",{className:"padding1 bg flex flex-between",children:[Object(c.jsx)("span",{children:e}),Object(c.jsx)("span",{className:"font3 font-bolder font-theme",children:n})]})}}]),n}(u.Component),h=n(16),m=n(49),O=n(58),y=n.n(O),v=(n(174),n(3)),g=function(t){Object(i.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={orderList:[],address:null,totalPrice:0},t.handleBuyOrder=function(e){e.stopPropagation();var n={user_id:t.props.user._id,username:t.props.user.username,totalPrice:t.state.totalPrice,commodities:t.state.orderList,address:t.state.address.address,note:t.state.address.note};Object(m.b)(n).then((function(e){Object(h.d)("order",e.data),t.props.history.replace("/buySuccess")}))},t.setAddress=function(e){t.setState({address:e})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=Object(h.c)("orderList");this.setState({orderList:t},this.computedTotalPrice);var e=this.setAddress,n=Object(h.c)("selectAddress");n&&this.setAddress(n),y.a.subscribe("selectAddress",(function(t,n){console.log("\u83b7\u53d6\u5230\u5730\u5740",n),e(n)}))}},{key:"componentWillUnmount",value:function(){localStorage.removeItem("cart")}},{key:"computedTotalPrice",value:function(){var t=this.state.orderList.map((function(t){return parseFloat(t.price)*t.count})).reduce((function(t,e){return t+e})).toFixed(2);this.setState({totalPrice:t})}},{key:"render",value:function(){var t=this,e=this.state,n=e.orderList,o=e.address,s=e.totalPrice;return Object(c.jsxs)("div",{children:[Object(c.jsx)(f.a,{bgColor:"red",color:"#fff",title:"\u586b\u5199\u8ba2\u5355"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(p.a,{className:"fo-handleBar",click:function(){return t.props.history.push("/addressList")},leftSlot:o?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"font3",children:o.address}),Object(c.jsx)("div",{className:"font-deep-gray",children:o.note})]}):Object(c.jsx)("span",{className:"font3",children:"\u8bf7\u9009\u62e9\u6536\u8d27\u5730\u5740"})}),Object(c.jsx)("div",{className:"padding1-tb bg margin1-t",children:n&&n.map((function(t,e){return Object(c.jsx)(d.a,Object(r.a)(Object(r.a)({},t),{},{inCart:!0,slot:Object(c.jsxs)("span",{className:"font4 font-deep-gray",children:["x",t.count]})}),e)}))}),Object(c.jsxs)("div",{className:"margin1-t",children:[Object(c.jsx)(p.a,{leftSlot:Object(c.jsxs)("div",{className:"flex flex-column",children:[Object(c.jsx)("span",{children:"\u8ba2\u5355\u5907\u6ce8"}),Object(c.jsx)("input",{className:"margin1-t",type:"text",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5907\u6ce8"})]})}),1===n.length&&Object(c.jsx)(j,{title:"\u5546\u54c1\u4ef7\u683c",text:"\uffe5 ".concat(parseInt(n[0].price).toFixed(2))}),Object(c.jsx)(j,{title:"\u8fd0\u8d39",text:"\uffe5 0.00"}),Object(c.jsx)(p.a,{leftSlot:Object(c.jsx)("span",{children:"\u4f18\u60e0\u5238"}),rightSlot:Object(c.jsx)("span",{className:"font25 font-bold font-theme",children:"\u6682\u65e0"})}),Object(c.jsxs)("div",{className:"fo-price padding1 bg",children:[Object(c.jsxs)("span",{className:"font4 font-theme font-bold",children:[" \uffe5",s]}),Object(c.jsx)("span",{className:"font-deep-gray font4 font-bold",children:"\u5408\u8ba1"})]})]})]}),Object(c.jsxs)("footer",{className:"fo-footer bg flex padding1",children:[Object(c.jsx)("span",{children:"\u603b\u989d\uff1a"}),Object(c.jsxs)("span",{className:"font5 font-bolder font-theme flex1",children:["\uffe5",s]}),Object(c.jsx)(b.a,{onClick:this.handleBuyOrder,className:"fo-footer-btn",type:o?"danger":"useless",children:"\u63d0\u4ea4\u8ba2\u5355"})]})]})}}]),n}(u.Component);e.default=Object(l.b)((function(t){return{user:t.user}}))(Object(v.o)(g))},49:function(t,e,n){"use strict";n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"x",(function(){return i})),n.d(e,"y",(function(){return a})),n.d(e,"v",(function(){return u})),n.d(e,"z",(function(){return l})),n.d(e,"u",(function(){return f})),n.d(e,"t",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"w",(function(){return b})),n.d(e,"d",(function(){return j})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"n",(function(){return O})),n.d(e,"b",(function(){return y})),n.d(e,"o",(function(){return v})),n.d(e,"r",(function(){return g})),n.d(e,"q",(function(){return x})),n.d(e,"p",(function(){return N})),n.d(e,"s",(function(){return w})),n.d(e,"i",(function(){return k})),n.d(e,"k",(function(){return P})),n.d(e,"m",(function(){return S})),n.d(e,"j",(function(){return C})),n.d(e,"l",(function(){return A}));var r=n(53),c=function(){return r.b.get("/categories/commodity")},o=function(t,e){return r.b.get("/commodities/".concat(t,"/").concat(e))},s=function(t){return r.b.get("/commodity/".concat(t))},i=function(t){return r.b.get("/user/detail/".concat(t))},a=function(){return r.b.get("/user/list/some")},u=function(t){return r.b.post("/register",t)},l=function(t,e){return r.b.put("/user/update/".concat(t),e)},f=function(t){return r.b.post("/login",t)},p=function(t,e){return r.b.get("/user/follow/add/".concat(t,"/").concat(e))},d=function(t){return r.b.get("/cart/list/".concat(t))},b=function(t,e){return r.b.put("/cart/list/update/".concat(t),e)},j=function(t,e){return r.b.post("/cart/list/add/".concat(t),e)},h=function(t){return r.b.get("/address/list/".concat(t))},m=function(t){return r.b.post("/address/create",t)},O=function(t){return r.b.delete("address/delete/".concat(t))},y=function(t){return r.b.post("/order/create",t)},v=function(t){return r.b.post("/dynamic/create",t)},g=function(t){return r.b.get("/dynamic/list/".concat(t))},x=function(t,e){return r.b.get("/dynamic/good/".concat(t,"/").concat(e))},N=function(t){return r.b.get("/dynamic/detail/".concat(t))},w=function(t){return r.b.get("dynamic/my/list/".concat(t))},k=function(t){return r.b.post("/common/create",t)},P=function(t,e){return r.b.get("/common/good/".concat(t,"/").concat(e))},S=function(t){return r.b.get("/common/second/detail/".concat(t))},C=function(t){return r.b.delete("/common/delete/".concat(t))},A=function(t){return r.b.get("/common/my/list/".concat(t))}},50:function(t,e,n){"use strict";var r=n(1),c=n(8),o=n(9),s=n(11),i=n(10),a=n(0),u=n(3),l=(n(51),function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={height:0},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.navbar.clientHeight;this.setState({height:t}),this.props.getHeight&&this.props.getHeight(t)}},{key:"render",value:function(){var t=this;return console.log("this.props.style",this.props.style),Object(r.jsxs)("div",{ref:function(e){return t.navbar=e},style:this.props.style||{backgroundColor:this.props.bgColor||"#FFF",top:0},className:"navbar-container padding1 flex ".concat(this.props.className," ").concat(this.props.noSticky||"sticky"),children:[Object(r.jsx)("div",{children:"boolean"===typeof this.props.leftSlot||this.props.leftSlot||Object(r.jsx)("i",{className:"iconfont icon-icon-63 line-center",style:{color:this.props.color},onClick:function(){return t.props.history.goBack()}})}),Object(r.jsx)("div",{className:"flex1 text-center margin1-lr",children:this.props.centerSlot||Object(r.jsx)("span",{className:"font3 font-bold",style:{color:this.props.color},children:this.props.title})}),Object(r.jsx)("div",{className:"navbar-container-right",children:this.props.rightSlot||""})]})}}]),n}(a.Component));e.a=Object(u.o)(l)},51:function(t,e,n){},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(54);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},53:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(60),c=n.n(r),o=(n(64),n(16)),s="http://pet.zhengjunqin.top/web/api",i=c.a.create({baseURL:s});i.interceptors.request.use((function(t){var e=Object(o.c)("userToken");return e&&(console.log("\u6709token\uff0c\u8bbe\u7f6etoken1",e),t.headers.Authorization="Bearer "+e),t}),(function(t){return Promise.reject(t)})),i.interceptors.response.use((function(t){if(!t.code)return t;switch(t.code){case 200:return t.data;case 401:console.log("\u7528\u6237\u672a\u767b\u5f55");break;case 403:console.log("\u7528\u6237token\u8fc7\u671f");break;default:window.alert("\u9519\u8bef\u6d88\u606f",t.data.msg),console.log("\u9519\u8bef\u6d88\u606f",t.data.msg)}})),e.b=i},54:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),c=n(8),o=n(9),s=n(11),i=n(10),a=n(0),u=(n(56),function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).handleClick=function(e){if(e.stopPropagation(),"useless"===t.props.type)return!1;t.props.onClick(e)},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{onClick:this.handleClick,style:this.props.style,className:"my-button ".concat(this.props.type||"default"," ").concat(this.props.className),children:this.props.title||this.props.children})}}]),n}(a.Component))},56:function(t,e,n){},57:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},58:function(t,e,n){(function(t){!function(n,r){"use strict";var c={};n.PubSub=c,function(t){var e={},n=-1,r="*";function c(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function o(t){return function(){throw t}}function s(t,e,n){try{t(e,n)}catch(r){setTimeout(o(r),0)}}function i(t,e,n){t(e,n)}function a(t,n,r,c){var o,a=e[n],u=c?i:s;if(Object.prototype.hasOwnProperty.call(e,n))for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&u(a[o],t,r)}function u(t,e,n){return function(){var c=String(t),o=c.lastIndexOf(".");for(a(t,t,e,n);-1!==o;)o=(c=c.substr(0,o)).lastIndexOf("."),a(t,c,e,n);a(t,r,e,n)}}function l(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&c(e[n]))}function f(t){for(var e=String(t),n=l(e)||l(r),c=e.lastIndexOf(".");!n&&-1!==c;)c=(e=e.substr(0,c)).lastIndexOf("."),n=l(e);return n}function p(t,e,n,r){var c=u(t="symbol"===typeof t?t.toString():t,e,r);return!!f(t)&&(!0===n?c():setTimeout(c,0),!0)}t.publish=function(e,n){return p(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return p(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,r){if("function"!==typeof r)return!1;t="symbol"===typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var c="uid_"+String(++n);return e[t][c]=r,c},t.subscribeAll=function(e){return t.subscribe(r,e)},t.subscribeOnce=function(e,n){var r=t.subscribe(e,(function(){t.unsubscribe(r),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,r=0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&r++;return r},t.getSubscriptions=function(t){var n,r=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&r.push(n);return r},t.unsubscribe=function(n){var r,c,o,s=function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1},i="string"===typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||s(n)),a=!i&&"string"===typeof n,u="function"===typeof n,l=!1;if(!i){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(c=e[r],a&&c[n]){delete c[n],l=n;break}if(u)for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&c[o]===n&&(delete c[o],l=!0)}return l}t.clearSubscriptions(n)}}(c),void 0!==t&&t.exports&&(e=t.exports=c),e.PubSub=c,t.exports=e=c}("object"===typeof window&&window||this)}).call(this,n(57)(t))},71:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),c=n(8),o=n(9),s=n(11),i=n(10),a=n(0),u=(n(72),function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props,e=t.iconClass,n=t.title;return Object(r.jsxs)("div",{onClick:this.props.click||null,className:"bg flex padding1 ".concat(this.props.className||""),children:[Object(r.jsx)("div",{className:"margin1-r",children:this.props.leftSlot||Object(r.jsx)("i",{className:"iconfont ".concat(e)})}),Object(r.jsx)("div",{className:"font2 flex1",children:this.props.centerSlot||Object(r.jsx)("span",{children:n})}),Object(r.jsxs)("div",{className:"hb-icon flex",children:[this.props.rightSlot||"",Object(r.jsx)("i",{onClick:this.props.click,className:"iconfont icon-icon-64"})]})]})}}]),n}(a.Component))},72:function(t,e,n){},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),c=n(8),o=n(9),s=n(11),i=n(10),a=n(0),u=(n(83),function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={number:t.props.number||1},t.sub=function(e){e.stopPropagation();var n=t.state.number;1!=n&&t.setState({number:--n},(function(){return t.props.setNewNum(n)}))},t.add=function(e){e.stopPropagation();var n=t.state.number;t.setState({number:++n},(function(){return t.props.setNewNum(n)}))},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"timer-container",children:[Object(r.jsx)("div",{onClick:this.sub,className:"tc-sub",children:"-"}),Object(r.jsx)("div",{className:"tc-number",children:this.state.number}),Object(r.jsx)("div",{onClick:this.add,className:"tc-add",children:"+"})]})}}]),n}(a.Component))},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),c=n(8),o=n(9),s=n(11),i=n(10),a=n(0),u=n(73),l=(n(84),function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={count:t.props.count},t.setNewNum=function(e){var n=t.props._id;t.setState({count:e},(function(){return t.props.setNewNum(e,n)}))},t}return Object(o.a)(n,[{key:"render",value:function(){console.log("commodityBar~~~~~~~~~",this.props);var t=this.props,e=t.inCart,n=t._id,c=t.name,o=t.cover,s=t.price,i=this.state.count;return console.log("commodity",this.props,n,c,s,i),Object(r.jsxs)("div",{className:"padding1 commodity-bar-container flex bg ".concat(this.props.className),children:[Object(r.jsx)("img",{className:"margin1-r commodity-bar-container-img",src:o,alt:"\u5546\u54c1\u56fe\u7247"}),Object(r.jsxs)("div",{className:"commodity-bar-container-info flex flex1 flex-column",children:[Object(r.jsx)("span",{className:"font3",children:c}),Object(r.jsxs)("div",{className:"commodity-bar-container-info-price flex",children:[Object(r.jsxs)("span",{className:"font4 font-theme",children:["\uffe5",e?(parseFloat(s)*i).toFixed(2):parseFloat(s).toFixed(2)]}),this.props.slot||e&&Object(r.jsx)(u.a,{number:i,setNewNum:this.setNewNum})]}),e?"":Object(r.jsx)("span",{className:"font-deep-gray",children:"\u5df2\u9009\u89c4\u683c"})]})]})}}]),n}(a.Component))},83:function(t,e,n){},84:function(t,e,n){}}]);
//# sourceMappingURL=10.3eba5925.chunk.js.map