{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","pages/Cart/Footer/index.jsx","pages/Cart/index.jsx","api/index.js","api/api.js","components/NavBar/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Button/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","components/CommodityBar/Timer/index.jsx","components/CommodityBar/index.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Footer","handleDelete","e","stopPropagation","props","updateCommodityList","handleOnChange","checked","target","handleSettlement","cart","orderList","items","filter","item","newOrderList","newCart","assign","localStorageSet","history","isSomeChecked","console","log","this","totalPriceChecked","totalPrice","isCheckedAll","mode","className","htmlFor","type","onChange","name","Button","onClick","Component","withRouter","Cart","state","commodityList","changeMode","setState","setNewNum","newNumber","id","handleChecked","computedTotalPrice","index","map","commodity","parseFloat","price","count","reduce","total","cur","toFixed","_id","key","method","newCommodityList","apiUpdateCartList","user","then","res","apiCartList","data","NavBar","bgColor","color","title","rightSlot","style","CommodityBar","inCart","connect","service","axios","create","baseURL","interceptors","request","use","config","token","localStorageGet","headers","Authorization","error","Promise","reject","response","code","window","alert","msg","apiCategories","get","apiCommodities","category","page","apiCommodity","apiUserDetail","user_id","apiUserListSome","apiRegister","body","post","apiUserUpdate","put","apiLogin","apiFollow","app_user_id","follow_user_id","apiCartAddCommodity","apiAddressList","apiAddAddress","apiDeleteAddress","delete","apiAddOrder","apiDynamicCreate","apiDynamicList","apiDynamicGood","dynamic_id","apiDynamicDetail","apiDynamicMyList","apiCommonCreate","apiCommonGood","common_id","apiCommonSecondDetail","apiCommonDelete","apiCommonMyList","height","navbar","clientHeight","getHeight","ref","dom","backgroundColor","top","noSticky","leftSlot","goBack","centerSlot","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable","handleClick","children","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","from","test","Timer","number","sub","add","cover","src","alt","slot"],"mappings":"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","file":"static/js/12.0a29e4ec.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component, Fragment } from 'react'\r\nimport Button from '@/components/Button'\r\nimport './index.less'\r\nimport {localStorageSet} from '@/utils'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass Footer extends Component {\r\n\r\n  handleDelete = (e) => {\r\n    e.stopPropagation()\r\n    this.props.updateCommodityList(false, '', '', 'filter')\r\n  }\r\n\r\n  handleOnChange = (e) => {\r\n    e.stopPropagation()\r\n    const checked = e.target.checked\r\n    this.props.updateCommodityList(false, 'checked', checked)\r\n  }\r\n\r\n  // 处理点击去结算按钮发生的事件\r\n  handleSettlement = () => {\r\n    const {cart} = this.props\r\n    const orderList = cart.items.filter(item => item.checked == true)\r\n    const newOrderList = cart.items.filter(item => item.checked !== true)\r\n    const newCart = Object.assign(cart, {items: newOrderList})\r\n    localStorageSet('orderList', orderList)\r\n    localStorageSet('newCart', newCart)\r\n    this.props.history.push('/fillOrder')\r\n  }\r\n\r\n  // 确认是否有选择\r\n  isSomeChecked = () => {\r\n    const {cart} = this.props\r\n    if (cart.items) {\r\n      const orderList = cart.items.filter(item => item.checked === true)\r\n      console.log('真假', orderList, orderList.length > 0)\r\n      return orderList.length > 0\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {totalPriceChecked: [totalPrice, isCheckedAll], mode} = this.props\r\n    return (\r\n      <div className=\"cart-footer bg padding05 flex\">\r\n        <label className=\"margin1-l\" htmlFor=\"\">\r\n          <input type=\"checkbox\" onChange={this.handleOnChange} checked={isCheckedAll} name=\"\" value=\"\"/>\r\n          <span className=\"font3\"> 全选</span>\r\n        </label>\r\n          <span className=\"margin1-l flex1\">\r\n            {\r\n              mode ? <span /> : (\r\n                <Fragment>\r\n                  <span className=\"font3 font-deep-gray\">合计：</span>\r\n                  <span className=\"font3 font-bolder\">￥{totalPrice}</span>\r\n                </Fragment>\r\n              )\r\n            }\r\n            \r\n          </span>\r\n        {\r\n          mode ? <Button onClick={this.handleDelete} className=\"cart-footer-btn\" type=\"danger\">删除</Button> :\r\n            <Button onClick={this.handleSettlement} className=\"cart-footer-btn\" type={this.isSomeChecked() ? 'danger' : 'useless'}>去结算</Button>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Footer)","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport NavBar from '@/components/NavBar'\r\nimport CommodityBar from '@/components/CommodityBar'\r\nimport Footer from './Footer'\r\nimport {apiCartList,apiUpdateCartList} from '@/api/api'\r\nimport './index.less'\r\n\r\nclass Cart extends Component {\r\n  state = {\r\n    // 当前为什么模式,0为正常浏览，1位编辑\r\n    mode: 0,\r\n    commodityList: [],\r\n    cart: {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 获取购物车列表\r\n    apiCartList(this.props.user._id).then(res => {\r\n      console.log('获取购物车列表',res.data.items)\r\n      this.setState({commodityList: res.data.items})\r\n      this.setState({cart: res.data}, () => console.log('cart', this.state.cart))\r\n    })\r\n  }\r\n\r\n  // 切换编辑模式\r\n  changeMode = (e) => {\r\n    e.stopPropagation()\r\n    const {mode} = this.state\r\n    this.setState({mode: !mode})\r\n  }\r\n\r\n  // 设置新的数量\r\n  setNewNum = (newNumber, id) => {\r\n    this.updateCommodityList(id, 'count', newNumber)\r\n  }\r\n\r\n  // 处理是否选中\r\n  handleChecked = (e, id) =>{\r\n    this.updateCommodityList(id, 'checked', e.target.checked)\r\n  }\r\n\r\n  // 计算总价格\r\n  computedTotalPrice = () => {\r\n    // 该索引用于计数checked商品数量，判断是否全选\r\n    let index = 0\r\n    const commodityList = this.state.cart.items\r\n    const totalPrice = commodityList && commodityList.length > 0 && commodityList.map(commodity => {\r\n      console.log('*************进入循环')\r\n      if (commodity.checked) {\r\n        index++\r\n        return parseFloat(commodity.price) * commodity.count\r\n      } else {\r\n        return 0\r\n      }\r\n    }).reduce((total, cur) => {\r\n      console.log('index',index)\r\n      console.log('commodityList.length', commodityList.length,total)\r\n      return parseFloat(total) + parseFloat(cur)\r\n    })\r\n    console.log('总价格', totalPrice)\r\n    return totalPrice ?  [totalPrice.toFixed(2), index == commodityList.length] : [0, false]\r\n  }\r\n\r\n  // 更新商品列表\r\n  updateCommodityList = (_id, key, value,method='map') => {\r\n    const {commodityList} = this.state\r\n    const newCommodityList = commodityList[method](commodity => {\r\n      // 过滤掉没有选中的商品\r\n      if(method == 'filter') {\r\n        return commodity.checked !== true\r\n      }\r\n      // map,_id值用于判断当前是否全选或者未全选\r\n      if (_id) {\r\n        // 如果有这件商品，找到这个商品并修改对应key值\r\n        if (commodity._id == _id) {\r\n          return Object.assign(commodity, {[key]:value})\r\n        } else {\r\n          return commodity\r\n        }\r\n      } else {\r\n        console.log('全选', value)\r\n        return Object.assign(commodity, {[key]:value})\r\n      }    \r\n    })\r\n    this.setState({commodityList:newCommodityList})\r\n    const {cart} = this.state\r\n    const newCart = Object.assign(cart, {items: newCommodityList})\r\n    console.log('新的', newCart)\r\n    apiUpdateCartList(this.props.user._id, newCart).then(res => {\r\n      console.log('更新数据成功', res)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {commodityList, mode, cart} = this.state\r\n    return (\r\n      <div>\r\n        <NavBar bgColor=\"red\" color=\"#fff\" title=\"购物车\"\r\n          rightSlot={\r\n            <span onClick={this.changeMode} style={{color: '#fff'}}>{mode ? '完成' : '编辑'}</span>\r\n          }\r\n        />\r\n        {\r\n          commodityList.length > 0 ? \r\n            <div className=\"bg padding1\">\r\n              {\r\n                commodityList.map(commodity => {\r\n                  return (\r\n                    <div key={commodity._id} className=\"flex cart-commodity-bar\">\r\n                      <input onChange={(e) => this.handleChecked(e,commodity._id)} checked={commodity.checked} type=\"checkbox\" name=\"\" value=\"\"/>\r\n                      <CommodityBar {...commodity} setNewNum={this.setNewNum} className=\"flex1\" inCart/>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </div> :\r\n            <span>购物车没有数据喔</span>\r\n        }\r\n        <Footer mode={mode} cart={cart} totalPriceChecked={this.computedTotalPrice()} updateCommodityList={this.updateCommodityList}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(state => ({user: state.user}))(Cart)\r\n","// 封装axios\r\nimport axios from 'axios'\r\nimport QS from 'qs'\r\nimport {localStorageGet}  from '@/utils'\r\n\r\n//保存环境变量\r\nconst isPrd = process.env.NODE_ENV == 'production';\r\n//区分开发环境还是生产环境基础URL\r\nexport const basicUrl = isPrd ? 'http://生产环境:3000/web/api' : 'http://localhost:3000/web/api'\r\n\r\n// 设置axios基本路径\r\nconst service = axios.create({\r\n  baseURL: basicUrl\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(config => { \r\n  const token = localStorageGet('userToken')\r\n  // 在每次的请求中添加token\r\n  // config.data = Object.assign({}, config.data, {\r\n  //   token: token,\r\n  // })\r\n  if (token) {\r\n    console.log('有token，设置token1', token)\r\n    config.headers.Authorization = 'Bearer ' + token\r\n  }\r\n  // 设置请求头\r\n  // config.headers = {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\r\n  // }\r\n  // config.data = QS.stringify(config.data)\r\n  return config\r\n}, error => { \r\n  return Promise.reject(error);\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  //根据返回不同的状态码做不同的事情\r\n  // 这里一定要和后台开发人员协商好统一的错误状态码\r\n  if (response.code) {\r\n    switch (response.code) {\r\n      case 200:\r\n        return response.data;\r\n      case 401:\r\n        //未登录处理方法\r\n        console.log('用户未登录')\r\n        break;\r\n      case 403:\r\n        //token过期处理方法\r\n        console.log('用户token过期')\r\n        break;\r\n      default:\r\n        // 发送错误消息\r\n        // message.error(response.data.msg)\r\n        window.alert('错误消息', response.data.msg)\r\n        console.log('错误消息', response.data.msg)\r\n    }\r\n  } else { \r\n    return response;\r\n  }\r\n})\r\n//最后把封装好的axios导出\r\nexport default service\r\n","// 统一管理接口\r\nimport service from './index'\r\n\r\n// 获取上级分类为商品的分类\r\nexport const apiCategories = () => service.get('/categories/commodity')\r\n// 获取上级分类为category的商品列表\r\nexport const apiCommodities = (category,page) => service.get(`/commodities/${category}/${page}`)\r\n// 根据id获取商品信息\r\nexport const apiCommodity = (_id) => service.get(`/commodity/${_id}`)\r\n\r\n// 获取用户详细信息\r\nexport const apiUserDetail = (user_id) => service.get(`/user/detail/${user_id}`)\r\n// 获取一些用户\r\nexport const apiUserListSome = () => service.get('/user/list/some')\r\n// 注册用户\r\nexport const apiRegister = (body) => service.post('/register', body)\r\n// 更新用户信息\r\nexport const apiUserUpdate = (user_id,body) => service.put(`/user/update/${user_id}`, body)\r\n// 登录\r\nexport const apiLogin = (body) => service.post('/login', body)\r\n// 查看是否有用户名\r\nexport const apiIsExistUsername = (body) => service.get('/isExistUsername', body)\r\n// 关注\r\nexport const apiFollow = (app_user_id, follow_user_id) => service.get(`/user/follow/add/${app_user_id}/${follow_user_id}`)\r\n\r\n// 获取购物车列表，传入的id是用户id\r\nexport const apiCartList = (_id) => service.get(`/cart/list/${_id}`)\r\n// 更新购物车列表，传入的id是用户id\r\nexport const apiUpdateCartList = (_id,body) => service.put(`/cart/list/update/${_id}`, body)\r\n// 将商品添加到购物车列表，id为用户id，body传入商品_id\r\nexport const apiCartAddCommodity = (_id, body) => service.post(`/cart/list/add/${_id}`, body)\r\n\r\n// 获取地址列表 id为用户id\r\nexport const apiAddressList = (_id) => service.get(`/address/list/${_id}`)\r\n// 添加地址\r\nexport const apiAddAddress = (body) => service.post('/address/create', body)\r\n// 删除地址，传入的是地址的id\r\nexport const apiDeleteAddress = (_id) => service.delete(`address/delete/${_id}`)\r\n\r\n// 获取订单列表，id为用户id\r\nexport const apiOrderList = (_id) => service.get(`/order/list/${_id}`)\r\n// 创建添加订单\r\nexport const apiAddOrder = (body) => service.post('/order/create', body)\r\n\r\n// 创建动态\r\nexport const apiDynamicCreate = (body) => service.post('/dynamic/create', body)\r\n// 获取动态列表，body为查询条件\r\nexport const apiDynamicList = (page) => service.get(`/dynamic/list/${page}`)\r\n// 更新动态点赞\r\nexport const apiDynamicGood = (dynamic_id, user_id) => service.get(`/dynamic/good/${dynamic_id}/${user_id}`)\r\n// 获取单个动态的详细信息\r\nexport const apiDynamicDetail = (dynamic_id) => service.get(`/dynamic/detail/${dynamic_id}`)\r\n// 获取个人动态列表\r\nexport const apiDynamicMyList = (user_id) => service.get(`dynamic/my/list/${user_id}`)\r\n\r\n// 创建评论\r\nexport const apiCommonCreate = (body) => service.post('/common/create', body)\r\n// 评论点赞\r\nexport const apiCommonGood = (user_id, common_id) => service.get(`/common/good/${user_id}/${common_id}`)\r\n// 获取次级评论详情\r\nexport const apiCommonSecondDetail = (common_id) => service.get(`/common/second/detail/${common_id}`)\r\n// 删除评论\r\nexport const apiCommonDelete = (common_id) => service.delete(`/common/delete/${common_id}`)\r\n// 获取个人发布的评论列表\r\nexport const apiCommonMyList = (user_id) => service.get(`/common/my/list/${user_id}`)\r\n\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Button extends Component {\r\n  handleClick = (e) => {\r\n    e.stopPropagation()\r\n    if (this.props.type !== 'useless') {\r\n      this.props.onClick(e)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div \r\n        onClick={this.handleClick} \r\n        style={this.props.style}\r\n        className={`my-button ${this.props.type || 'default'} ${this.props.className}`}\r\n      >{this.props.title || this.props.children}</div>\r\n    )\r\n  }\r\n}\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Timer extends Component {\r\n  state = {\r\n    number: this.props.number || 1\r\n  }\r\n\r\n  sub = (e) => {\r\n    e.stopPropagation()\r\n    let {number} = this.state\r\n    if(number == 1) {\r\n      return \r\n    } else {\r\n      this.setState({number: --number}, () => this.props.setNewNum(number))\r\n    }\r\n  }\r\n\r\n  add = (e) => {\r\n    e.stopPropagation()\r\n    let {number} = this.state\r\n    this.setState({number: ++number}, () => this.props.setNewNum(number))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"timer-container\">\r\n        <div onClick={this.sub} className=\"tc-sub\">-</div>\r\n        <div className=\"tc-number\">{this.state.number}</div>\r\n        <div onClick={this.add} className=\"tc-add\">+</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Timer from './Timer'\r\nimport './index.less'\r\n\r\nexport default class CommodityBar extends Component {\r\n  state = {\r\n    count: this.props.count\r\n  }\r\n\r\n  setNewNum = (count) => {\r\n    const {_id} = this.props\r\n    this.setState({count}, () => this.props.setNewNum(count, _id))\r\n  }\r\n\r\n  render() {\r\n    console.log('commodityBar~~~~~~~~~', this.props)\r\n    const {inCart, _id, name, cover, price} = this.props\r\n    const {count} = this.state\r\n    // const {count,price} = this.state\r\n    console.log('commodity', this.props,_id, name, price, count)\r\n    return (\r\n      <div className={`padding1 commodity-bar-container flex bg ${this.props.className}`}>\r\n        <img className=\"margin1-r commodity-bar-container-img\" src={cover} alt=\"商品图片\" />\r\n        <div className=\"commodity-bar-container-info flex flex1 flex-column\">\r\n          <span className=\"font3\">{name}</span>\r\n          <div className=\"commodity-bar-container-info-price flex\">\r\n            <span className=\"font4 font-theme\">￥{inCart ? (parseFloat(price) * count).toFixed(2) : parseFloat(price).toFixed(2)}</span>\r\n            {this.props.slot || (inCart && <Timer number={count} setNewNum={this.setNewNum}/>)}\r\n          </div>\r\n          {inCart ? '' : <span className=\"font-deep-gray\">已选规格</span>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}