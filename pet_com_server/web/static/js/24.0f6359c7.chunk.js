(this.webpackJsonppet_com_web=this.webpackJsonppet_com_web||[]).push([[24],{118:function(t,n,e){},180:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(9),o=e(10),u=e(12),i=e(11),a=e(0),s=(e(118),e(50)),d=e(84),l=e(54),f=e(83),p=e(3),m=e(49),g=e(18),j=e(58),h=e.n(j),b=e(116),O=e(17),y=function(t){Object(u.a)(e,t);var n=Object(i.a)(e);function e(){var t;Object(c.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(t=n.call.apply(n,[this].concat(o))).state={formData:{username:null,password:null}},t.handleLogin=function(n){n.stopPropagation();var e={username:t.username.value,password:t.password.value};Object(m.u)(e).then((function(n){t.props.set_user(n.data.user),Object(O.d)("userToken",n.data.token),f.a.success("\u767b\u5f55\u6210\u529f",2e3),h.a.publish("updateDynamicList","restart"),t.props.history.replace("/community")}))},t}return Object(o.a)(e,[{key:"render",value:function(){var t=this;return Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)(s.a,{noSticky:!0,rightSlot:Object(r.jsx)("span",{onClick:function(){return t.props.history.push("/register")},children:"\u6ce8\u518c"})}),Object(r.jsxs)("div",{className:"padding1",children:[Object(r.jsx)("h3",{children:"\u8d26\u53f7\u767b\u5f55"}),Object(r.jsxs)("div",{className:"margin1-t",children:[Object(r.jsx)(d.a,{refFun:function(n){return t.username=n},title:"\u7528\u6237\u540d",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),Object(r.jsx)(d.a,{refFun:function(n){return t.password=n},title:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"})]}),Object(r.jsx)(l.a,{onClick:this.handleLogin,type:"danger",className:"login-container-btn",children:"\u767b\u5f55"})]})]})}}]),e}(a.Component);n.default=Object(g.b)((function(t){return{user:t.user}}),{set_user:b.b})(Object(p.o)(y))},49:function(t,n,e){"use strict";e.d(n,"f",(function(){return a})),e.d(n,"g",(function(){return s})),e.d(n,"h",(function(){return d})),e.d(n,"x",(function(){return l})),e.d(n,"y",(function(){return f})),e.d(n,"v",(function(){return p})),e.d(n,"z",(function(){return m})),e.d(n,"u",(function(){return g})),e.d(n,"t",(function(){return j})),e.d(n,"e",(function(){return h})),e.d(n,"w",(function(){return b})),e.d(n,"d",(function(){return O})),e.d(n,"c",(function(){return y})),e.d(n,"a",(function(){return v})),e.d(n,"n",(function(){return w})),e.d(n,"b",(function(){return k})),e.d(n,"o",(function(){return x})),e.d(n,"r",(function(){return N})),e.d(n,"q",(function(){return _})),e.d(n,"p",(function(){return C})),e.d(n,"s",(function(){return L})),e.d(n,"i",(function(){return B})),e.d(n,"k",(function(){return F})),e.d(n,"m",(function(){return q})),e.d(n,"j",(function(){return z})),e.d(n,"l",(function(){return A}));var r=e(59),c=e.n(r),o=(e(62),e(17)),u=c.a.create({baseURL:"http://\u751f\u4ea7\u73af\u5883:3000/web/api"});u.interceptors.request.use((function(t){var n=Object(o.c)("userToken");return n&&(console.log("\u6709token\uff0c\u8bbe\u7f6etoken1",n),t.headers.Authorization="Bearer "+n),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){if(!t.code)return t;switch(t.code){case 200:return t.data;case 401:console.log("\u7528\u6237\u672a\u767b\u5f55");break;case 403:console.log("\u7528\u6237token\u8fc7\u671f");break;default:window.alert("\u9519\u8bef\u6d88\u606f",t.data.msg),console.log("\u9519\u8bef\u6d88\u606f",t.data.msg)}}));var i=u,a=function(){return i.get("/categories/commodity")},s=function(t,n){return i.get("/commodities/".concat(t,"/").concat(n))},d=function(t){return i.get("/commodity/".concat(t))},l=function(t){return i.get("/user/detail/".concat(t))},f=function(){return i.get("/user/list/some")},p=function(t){return i.post("/register",t)},m=function(t,n){return i.put("/user/update/".concat(t),n)},g=function(t){return i.post("/login",t)},j=function(t,n){return i.get("/user/follow/add/".concat(t,"/").concat(n))},h=function(t){return i.get("/cart/list/".concat(t))},b=function(t,n){return i.put("/cart/list/update/".concat(t),n)},O=function(t,n){return i.post("/cart/list/add/".concat(t),n)},y=function(t){return i.get("/address/list/".concat(t))},v=function(t){return i.post("/address/create",t)},w=function(t){return i.delete("address/delete/".concat(t))},k=function(t){return i.post("/order/create",t)},x=function(t){return i.post("/dynamic/create",t)},N=function(t){return i.get("/dynamic/list/".concat(t))},_=function(t,n){return i.get("/dynamic/good/".concat(t,"/").concat(n))},C=function(t){return i.get("/dynamic/detail/".concat(t))},L=function(t){return i.get("dynamic/my/list/".concat(t))},B=function(t){return i.post("/common/create",t)},F=function(t,n){return i.get("/common/good/".concat(t,"/").concat(n))},q=function(t){return i.get("/common/second/detail/".concat(t))},z=function(t){return i.delete("/common/delete/".concat(t))},A=function(t){return i.get("/common/my/list/".concat(t))}},84:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(1),c=e(9),o=e(10),u=e(12),i=e(11),a=e(0),s=(e(85),function(t){Object(u.a)(e,t);var n=Object(i.a)(e);function e(){return Object(c.a)(this,e),n.apply(this,arguments)}return Object(o.a)(e,[{key:"render",value:function(){var t=this.props,n=t.title,e=t.placeholder,c=t.type,o=t.refFun;return Object(r.jsxs)("div",{className:"login-input-item",children:[Object(r.jsx)("span",{children:n}),Object(r.jsxs)("div",{className:"login-input-item-wrong",children:[Object(r.jsx)("input",{onBlur:this.props.onBlur,ref:o,type:c||"text",placeholder:e}),Object(r.jsx)("span",{className:"login-input-item-wrong-message",children:this.props.wrongMessage})]})]})}}]),e}(a.Component))},85:function(t,n,e){}}]);
//# sourceMappingURL=24.0f6359c7.chunk.js.map