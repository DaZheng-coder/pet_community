(this.webpackJsonppet_com_web=this.webpackJsonppet_com_web||[]).push([[24],{118:function(n,t,e){},180:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(9),o=e(10),u=e(12),i=e(11),a=e(0),s=(e(118),e(50)),d=e(84),l=e(54),f=e(83),p=e(3),m=e(49),g=e(18),j=e(58),b=e.n(j),h=e(116),O=e(17),v=function(n){Object(u.a)(e,n);var t=Object(i.a)(e);function e(){var n;Object(c.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(n=t.call.apply(t,[this].concat(o))).state={formData:{username:null,password:null}},n.handleLogin=function(t){t.stopPropagation();var e={username:n.username.value,password:n.password.value};Object(m.u)(e).then((function(t){n.props.set_user(t.data.user),Object(O.d)("userToken",t.data.token),f.a.success("\u767b\u5f55\u6210\u529f",2e3),b.a.publish("updateDynamicList","restart"),n.props.history.replace("/community")}))},n}return Object(o.a)(e,[{key:"render",value:function(){var n=this;return Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)(s.a,{noSticky:!0,rightSlot:Object(r.jsx)("span",{onClick:function(){return n.props.history.push("/register")},children:"\u6ce8\u518c"})}),Object(r.jsxs)("div",{className:"padding1",children:[Object(r.jsx)("h3",{children:"\u8d26\u53f7\u767b\u5f55"}),Object(r.jsxs)("div",{className:"margin1-t",children:[Object(r.jsx)(d.a,{refFun:function(t){return n.username=t},title:"\u7528\u6237\u540d",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),Object(r.jsx)(d.a,{refFun:function(t){return n.password=t},title:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"})]}),Object(r.jsx)(l.a,{onClick:this.handleLogin,type:"danger",className:"login-container-btn",children:"\u767b\u5f55"})]})]})}}]),e}(a.Component);t.default=Object(g.b)((function(n){return{user:n.user}}),{set_user:h.b})(Object(p.o)(v))},49:function(n,t,e){"use strict";e.d(t,"f",(function(){return s})),e.d(t,"g",(function(){return d})),e.d(t,"h",(function(){return l})),e.d(t,"x",(function(){return f})),e.d(t,"y",(function(){return p})),e.d(t,"v",(function(){return m})),e.d(t,"z",(function(){return g})),e.d(t,"u",(function(){return j})),e.d(t,"t",(function(){return b})),e.d(t,"e",(function(){return h})),e.d(t,"w",(function(){return O})),e.d(t,"d",(function(){return v})),e.d(t,"c",(function(){return y})),e.d(t,"a",(function(){return w})),e.d(t,"n",(function(){return _})),e.d(t,"b",(function(){return k})),e.d(t,"o",(function(){return x})),e.d(t,"r",(function(){return S})),e.d(t,"q",(function(){return T})),e.d(t,"p",(function(){return C})),e.d(t,"s",(function(){return N})),e.d(t,"i",(function(){return E})),e.d(t,"k",(function(){return P})),e.d(t,"m",(function(){return A})),e.d(t,"j",(function(){return L})),e.d(t,"l",(function(){return R}));var r=e(59),c=e.n(r),o=(e(62),e(17)),u=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,i=c.a.create({baseURL:u});i.interceptors.request.use((function(n){var t=Object(o.c)("userToken");return t&&(console.log("\u6709token\uff0c\u8bbe\u7f6etoken1",t),n.headers.Authorization="Bearer "+t),n}),(function(n){return Promise.reject(n)})),i.interceptors.response.use((function(n){if(!n.code)return n;switch(n.code){case 200:return n.data;case 401:console.log("\u7528\u6237\u672a\u767b\u5f55");break;case 403:console.log("\u7528\u6237token\u8fc7\u671f");break;default:window.alert("\u9519\u8bef\u6d88\u606f",n.data.msg),console.log("\u9519\u8bef\u6d88\u606f",n.data.msg)}}));var a=i,s=function(){return a.get("/categories/commodity")},d=function(n,t){return a.get("/commodities/".concat(n,"/").concat(t))},l=function(n){return a.get("/commodity/".concat(n))},f=function(n){return a.get("/user/detail/".concat(n))},p=function(){return a.get("/user/list/some")},m=function(n){return a.post("/register",n)},g=function(n,t){return a.put("/user/update/".concat(n),t)},j=function(n){return a.post("/login",n)},b=function(n,t){return a.get("/user/follow/add/".concat(n,"/").concat(t))},h=function(n){return a.get("/cart/list/".concat(n))},O=function(n,t){return a.put("/cart/list/update/".concat(n),t)},v=function(n,t){return a.post("/cart/list/add/".concat(n),t)},y=function(n){return a.get("/address/list/".concat(n))},w=function(n){return a.post("/address/create",n)},_=function(n){return a.delete("address/delete/".concat(n))},k=function(n){return a.post("/order/create",n)},x=function(n){return a.post("/dynamic/create",n)},S=function(n){return a.get("/dynamic/list/".concat(n))},T=function(n,t){return a.get("/dynamic/good/".concat(n,"/").concat(t))},C=function(n){return a.get("/dynamic/detail/".concat(n))},N=function(n){return a.get("dynamic/my/list/".concat(n))},E=function(n){return a.post("/common/create",n)},P=function(n,t){return a.get("/common/good/".concat(n,"/").concat(t))},A=function(n){return a.get("/common/second/detail/".concat(n))},L=function(n){return a.delete("/common/delete/".concat(n))},R=function(n){return a.get("/common/my/list/".concat(n))}},84:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var r=e(1),c=e(9),o=e(10),u=e(12),i=e(11),a=e(0),s=(e(85),function(n){Object(u.a)(e,n);var t=Object(i.a)(e);function e(){return Object(c.a)(this,e),t.apply(this,arguments)}return Object(o.a)(e,[{key:"render",value:function(){var n=this.props,t=n.title,e=n.placeholder,c=n.type,o=n.refFun;return Object(r.jsxs)("div",{className:"login-input-item",children:[Object(r.jsx)("span",{children:t}),Object(r.jsxs)("div",{className:"login-input-item-wrong",children:[Object(r.jsx)("input",{onBlur:this.props.onBlur,ref:o,type:c||"text",placeholder:e}),Object(r.jsx)("span",{className:"login-input-item-wrong-message",children:this.props.wrongMessage})]})]})}}]),e}(a.Component))},85:function(n,t,e){}}]);
//# sourceMappingURL=24.63898061.chunk.js.map