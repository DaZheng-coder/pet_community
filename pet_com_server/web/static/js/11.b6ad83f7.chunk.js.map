{"version":3,"sources":["pages/FillOrder/Bar/index.jsx","pages/FillOrder/index.jsx","api/index.js","api/api.js","components/NavBar/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Button/index.jsx","../node_modules/webpack/buildin/module.js","../node_modules/pubsub-js/src/pubsub.js","components/HandleBar/index.jsx","components/CommodityBar/Timer/index.jsx","components/CommodityBar/index.jsx"],"names":["Bar","this","props","title","text","className","Component","FillOrder","state","orderList","address","totalPrice","handleBuyOrder","e","stopPropagation","order","user_id","user","_id","username","commodities","note","apiAddOrder","then","res","localStorageSet","data","history","replace","setAddress","setState","localStorageGet","computedTotalPrice","PubSub","subscribe","msg","console","log","localStorage","removeItem","map","item","parseFloat","price","count","reduce","total","cur","toFixed","NavBar","bgColor","color","HandleBar","click","push","leftSlot","commodity","index","CommodityBar","inCart","slot","type","placeholder","length","parseInt","rightSlot","Button","onClick","connect","withRouter","basicUrl","process","REACT_APP_API_URL","service","axios","create","baseURL","interceptors","request","use","config","token","headers","Authorization","error","Promise","reject","response","code","window","alert","apiCategories","get","apiCommodities","category","page","apiCommodity","apiUserDetail","apiUserListSome","apiRegister","body","post","apiUserUpdate","put","apiLogin","apiFollow","app_user_id","follow_user_id","apiCartList","apiUpdateCartList","apiCartAddCommodity","apiAddressList","apiAddAddress","apiDeleteAddress","delete","apiDynamicCreate","apiDynamicList","apiDynamicGood","dynamic_id","apiDynamicDetail","apiDynamicMyList","apiCommonCreate","apiCommonGood","common_id","apiCommonSecondDetail","apiCommonDelete","apiCommonMyList","height","navbar","clientHeight","getHeight","style","ref","dom","backgroundColor","top","noSticky","goBack","centerSlot","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","value","configurable","writable","handleClick","children","module","exports","webpackPolyfill","deprecate","paths","l","root","factory","messages","lastUid","ALL_SUBSCRIBING_MSG","hasKeys","prototype","hasOwnProperty","call","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","setTimeout","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","createDeliveryFunction","topic","String","position","lastIndexOf","substr","hasDirectSubscribersFor","Boolean","messageHasSubscribers","found","publish","sync","deliver","toString","publishSync","func","subscribeAll","subscribeOnce","unsubscribe","clearAllSubscriptions","clearSubscriptions","m","indexOf","countSubscriptions","getSubscriptions","list","t","descendantTopicExists","isTopic","isToken","isFunction","result","undefined","iconClass","Timer","number","sub","setNewNum","add","name","cover","src","alt"],"mappings":"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","file":"static/js/11.b6ad83f7.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport default class Bar extends Component {\r\n  render() {\r\n    const {title, text} = this.props\r\n    return (\r\n      <div className=\"padding1 bg flex flex-between\">\r\n        <span>{title}</span>\r\n        <span className=\"font3 font-bolder font-theme\">{text}</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport NavBar from '@/components/NavBar'\r\nimport HandleBar from '@/components/HandleBar'\r\nimport CommodityBar from '@/components/CommodityBar'\r\nimport Button from '@/components/Button'\r\nimport Bar from './Bar'\r\nimport {localStorageSet,localStorageGet} from '@/utils'\r\nimport {apiAddOrder} from '@/api/api'\r\nimport PubSub from 'pubsub-js'\r\nimport './index.less'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass FillOrder extends Component {\r\n  state = {\r\n    orderList: [],\r\n    address: null,\r\n    totalPrice: 0\r\n  }\r\n  \r\n  componentDidMount () {\r\n    // 获取订单信息\r\n    const orderList = localStorageGet('orderList')\r\n    // 设置订单更新界面\r\n    this.setState({orderList}, this.computedTotalPrice)\r\n\r\n    const setAddress = this.setAddress\r\n    // 订阅地址消息\r\n    PubSub.subscribe('selectAddress', function (msg,data) {\r\n      console.log('获取到地址', data)\r\n      setAddress(data)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // 删除订单信息\r\n    localStorage.removeItem('cart')\r\n  }\r\n\r\n  // 处理点击了提交订单事件\r\n  handleBuyOrder = (e) => {\r\n    e.stopPropagation()\r\n    const order = {\r\n      user_id: this.props.user._id,\r\n      username: this.props.user.username,\r\n      totalPrice: this.state.totalPrice,\r\n      commodities: this.state.orderList,\r\n      address: this.state.address.address,\r\n      note: this.state.address.note\r\n    }\r\n    apiAddOrder(order).then(res => {\r\n      localStorageSet('order', res.data)\r\n      this.props.history.replace('/buySuccess')\r\n    })\r\n  }\r\n\r\n  setAddress = (data) => {\r\n    this.setState({address: data})\r\n  }\r\n\r\n  // 计算总价格\r\n  computedTotalPrice () {\r\n    const {orderList} = this.state\r\n    const totalPrice = orderList.map(item => parseFloat(item.price) * item.count ).reduce((total, cur) => total + cur).toFixed(2)\r\n    this.setState({totalPrice})\r\n  }\r\n\r\n  render() {\r\n    const {orderList, address, totalPrice} = this.state\r\n    return (\r\n      <div>\r\n        <NavBar bgColor=\"red\" color=\"#fff\" title=\"填写订单\" />\r\n        <div>\r\n          <HandleBar className=\"fo-handleBar\"\r\n            click={() => this.props.history.push('/addressList')}\r\n            leftSlot={\r\n              address ? <div>\r\n                <span className=\"font3\">{address.address}</span>\r\n                <div className=\"font-deep-gray\">{address.note}</div>\r\n              </div>:\r\n              <span className=\"font3\">请选择收货地址</span>\r\n            }\r\n          />\r\n          <div className=\"padding1-tb bg margin1-t\">\r\n            {\r\n              orderList && orderList.map((commodity,index) => \r\n                  <CommodityBar key={index} {...commodity} inCart slot={<span className=\"font4 font-deep-gray\">x{commodity.count}</span>}/>\r\n              )\r\n            }\r\n          </div>\r\n          <div className=\"margin1-t\">\r\n            <HandleBar\r\n              leftSlot={\r\n                <div className=\"flex flex-column\">\r\n                  <span>订单备注</span>\r\n                  <input className=\"margin1-t\" type=\"text\" placeholder=\"请输入你的备注\" />\r\n                </div>\r\n              }\r\n            />\r\n            {\r\n              orderList.length === 1 && <Bar title=\"商品价格\" text={`￥ ${parseInt(orderList[0].price).toFixed(2)}`} />\r\n            }\r\n            <Bar title=\"运费\" text=\"￥ 0.00\" />\r\n            <HandleBar \r\n              leftSlot={<span>优惠券</span>}\r\n              rightSlot={<span className=\"font25 font-bold font-theme\">暂无</span>}\r\n            />\r\n            <div className=\"fo-price padding1 bg\">\r\n              <span className=\"font4 font-theme font-bold\"> ￥{totalPrice}</span>\r\n              <span className=\"font-deep-gray font4 font-bold\">合计</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <footer className=\"fo-footer bg flex padding1\">\r\n          <span>总额：</span>\r\n          <span className=\"font5 font-bolder font-theme flex1\">￥{totalPrice}</span>\r\n          <Button onClick={this.handleBuyOrder} className=\"fo-footer-btn\" type={address ? 'danger' : 'useless'}>提交订单</Button>\r\n        </footer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(state => ({user: state.user}))(withRouter(FillOrder))\r\n","// 封装axios\r\nimport axios from 'axios'\r\nimport QS from 'qs'\r\nimport {localStorageGet}  from '@/utils'\r\n\r\n//保存环境变量\r\nconst isPrd = process.env.NODE_ENV == 'production';\r\n//区分开发环境还是生产环境基础URL\r\nexport const basicUrl = isPrd ? process.env.REACT_APP_API_URL : 'http://localhost:3000/web/api'\r\n\r\n// 设置axios基本路径\r\nconst service = axios.create({\r\n  baseURL: basicUrl\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(config => { \r\n  const token = localStorageGet('userToken')\r\n  // 在每次的请求中添加token\r\n  // config.data = Object.assign({}, config.data, {\r\n  //   token: token,\r\n  // })\r\n  if (token) {\r\n    console.log('有token，设置token1', token)\r\n    config.headers.Authorization = 'Bearer ' + token\r\n  }\r\n  // 设置请求头\r\n  // config.headers = {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\r\n  // }\r\n  // config.data = QS.stringify(config.data)\r\n  return config\r\n}, error => { \r\n  return Promise.reject(error);\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  //根据返回不同的状态码做不同的事情\r\n  // 这里一定要和后台开发人员协商好统一的错误状态码\r\n  if (response.code) {\r\n    switch (response.code) {\r\n      case 200:\r\n        return response.data;\r\n      case 401:\r\n        //未登录处理方法\r\n        console.log('用户未登录')\r\n        break;\r\n      case 403:\r\n        //token过期处理方法\r\n        console.log('用户token过期')\r\n        break;\r\n      default:\r\n        // 发送错误消息\r\n        // message.error(response.data.msg)\r\n        window.alert('错误消息', response.data.msg)\r\n        console.log('错误消息', response.data.msg)\r\n    }\r\n  } else { \r\n    return response;\r\n  }\r\n})\r\n//最后把封装好的axios导出\r\nexport default service\r\n","// 统一管理接口\r\nimport service from './index'\r\n\r\n// 获取上级分类为商品的分类\r\nexport const apiCategories = () => service.get('/categories/commodity')\r\n// 获取上级分类为category的商品列表\r\nexport const apiCommodities = (category,page) => service.get(`/commodities/${category}/${page}`)\r\n// 根据id获取商品信息\r\nexport const apiCommodity = (_id) => service.get(`/commodity/${_id}`)\r\n\r\n// 获取用户详细信息\r\nexport const apiUserDetail = (user_id) => service.get(`/user/detail/${user_id}`)\r\n// 获取一些用户\r\nexport const apiUserListSome = () => service.get('/user/list/some')\r\n// 注册用户\r\nexport const apiRegister = (body) => service.post('/register', body)\r\n// 更新用户信息\r\nexport const apiUserUpdate = (user_id,body) => service.put(`/user/update/${user_id}`, body)\r\n// 登录\r\nexport const apiLogin = (body) => service.post('/login', body)\r\n// 查看是否有用户名\r\nexport const apiIsExistUsername = (body) => service.get('/isExistUsername', body)\r\n// 关注\r\nexport const apiFollow = (app_user_id, follow_user_id) => service.get(`/user/follow/add/${app_user_id}/${follow_user_id}`)\r\n\r\n// 获取购物车列表，传入的id是用户id\r\nexport const apiCartList = (_id) => service.get(`/cart/list/${_id}`)\r\n// 更新购物车列表，传入的id是用户id\r\nexport const apiUpdateCartList = (_id,body) => service.put(`/cart/list/update/${_id}`, body)\r\n// 将商品添加到购物车列表，id为用户id，body传入商品_id\r\nexport const apiCartAddCommodity = (_id, body) => service.post(`/cart/list/add/${_id}`, body)\r\n\r\n// 获取地址列表 id为用户id\r\nexport const apiAddressList = (_id) => service.get(`/address/list/${_id}`)\r\n// 添加地址\r\nexport const apiAddAddress = (body) => service.post('/address/create', body)\r\n// 删除地址，传入的是地址的id\r\nexport const apiDeleteAddress = (_id) => service.delete(`address/delete/${_id}`)\r\n\r\n// 获取订单列表，id为用户id\r\nexport const apiOrderList = (_id) => service.get(`/order/list/${_id}`)\r\n// 创建添加订单\r\nexport const apiAddOrder = (body) => service.post('/order/create', body)\r\n\r\n// 创建动态\r\nexport const apiDynamicCreate = (body) => service.post('/dynamic/create', body)\r\n// 获取动态列表，body为查询条件\r\nexport const apiDynamicList = (page) => service.get(`/dynamic/list/${page}`)\r\n// 更新动态点赞\r\nexport const apiDynamicGood = (dynamic_id, user_id) => service.get(`/dynamic/good/${dynamic_id}/${user_id}`)\r\n// 获取单个动态的详细信息\r\nexport const apiDynamicDetail = (dynamic_id) => service.get(`/dynamic/detail/${dynamic_id}`)\r\n// 获取个人动态列表\r\nexport const apiDynamicMyList = (user_id) => service.get(`dynamic/my/list/${user_id}`)\r\n\r\n// 创建评论\r\nexport const apiCommonCreate = (body) => service.post('/common/create', body)\r\n// 评论点赞\r\nexport const apiCommonGood = (user_id, common_id) => service.get(`/common/good/${user_id}/${common_id}`)\r\n// 获取次级评论详情\r\nexport const apiCommonSecondDetail = (common_id) => service.get(`/common/second/detail/${common_id}`)\r\n// 删除评论\r\nexport const apiCommonDelete = (common_id) => service.delete(`/common/delete/${common_id}`)\r\n// 获取个人发布的评论列表\r\nexport const apiCommonMyList = (user_id) => service.get(`/common/my/list/${user_id}`)\r\n\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Button extends Component {\r\n  handleClick = (e) => {\r\n    e.stopPropagation()\r\n    if (this.props.type !== 'useless') {\r\n      this.props.onClick(e)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div \r\n        onClick={this.handleClick} \r\n        style={this.props.style}\r\n        className={`my-button ${this.props.type || 'default'} ${this.props.className}`}\r\n      >{this.props.title || this.props.children}</div>\r\n    )\r\n  }\r\n}\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n    root.PubSub = PubSub;\n    factory(PubSub);\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        var count = 0;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                count++;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class HandleBar extends Component {\r\n  render() {\r\n    const {iconClass, title} = this.props\r\n    return (\r\n      <div onClick={this.props.click || null} className={`bg flex padding1 ${this.props.className || ''}`}>\r\n        <div className=\"margin1-r\">\r\n          {this.props.leftSlot || <i className={`iconfont ${iconClass}`} />}\r\n        </div>\r\n        <div className=\"font2 flex1\">\r\n          {this.props.centerSlot || <span>{title}</span>}\r\n        </div>\r\n        <div className=\"hb-icon flex\">{this.props.rightSlot || ''}<i onClick={this.props.click} className=\"iconfont icon-icon-64\" /></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Timer extends Component {\r\n  state = {\r\n    number: this.props.number || 1\r\n  }\r\n\r\n  sub = (e) => {\r\n    e.stopPropagation()\r\n    let {number} = this.state\r\n    if(number == 1) {\r\n      return \r\n    } else {\r\n      this.setState({number: --number}, () => this.props.setNewNum(number))\r\n    }\r\n  }\r\n\r\n  add = (e) => {\r\n    e.stopPropagation()\r\n    let {number} = this.state\r\n    this.setState({number: ++number}, () => this.props.setNewNum(number))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"timer-container\">\r\n        <div onClick={this.sub} className=\"tc-sub\">-</div>\r\n        <div className=\"tc-number\">{this.state.number}</div>\r\n        <div onClick={this.add} className=\"tc-add\">+</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Timer from './Timer'\r\nimport './index.less'\r\n\r\nexport default class CommodityBar extends Component {\r\n  state = {\r\n    count: this.props.count\r\n  }\r\n\r\n  setNewNum = (count) => {\r\n    const {_id} = this.props\r\n    this.setState({count}, () => this.props.setNewNum(count, _id))\r\n  }\r\n\r\n  render() {\r\n    console.log('commodityBar~~~~~~~~~', this.props)\r\n    const {inCart, _id, name, cover, price} = this.props\r\n    const {count} = this.state\r\n    // const {count,price} = this.state\r\n    console.log('commodity', this.props,_id, name, price, count)\r\n    return (\r\n      <div className={`padding1 commodity-bar-container flex bg ${this.props.className}`}>\r\n        <img className=\"margin1-r commodity-bar-container-img\" src={cover} alt=\"商品图片\" />\r\n        <div className=\"commodity-bar-container-info flex flex1 flex-column\">\r\n          <span className=\"font3\">{name}</span>\r\n          <div className=\"commodity-bar-container-info-price flex\">\r\n            <span className=\"font4 font-theme\">￥{inCart ? (parseFloat(price) * count).toFixed(2) : parseFloat(price).toFixed(2)}</span>\r\n            {this.props.slot || (inCart && <Timer number={count} setNewNum={this.setNewNum}/>)}\r\n          </div>\r\n          {inCart ? '' : <span className=\"font-deep-gray\">已选规格</span>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}