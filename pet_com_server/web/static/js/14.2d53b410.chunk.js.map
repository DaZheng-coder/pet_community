{"version":3,"sources":["pages/Register/constant.js","pages/Register/index.jsx","api/api.js","components/NavBar/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","api/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Button/index.jsx","components/Toast/notice.jsx","components/Toast/notification.jsx","components/Toast/toast.js","components/Toast/index.js","components/Toast/icons.js","components/InputItem/index.jsx"],"names":["USER_PATTERN","PWD_PATTERN","Register","state","usernameWrong","pwdWrong","confirmPwdWrong","handleRegister","e","stopPropagation","handleUsernameBlur","handlePwdBlur","handleConfirmPwdBlur","requestCreateNewUser","username","value","password","setState","target","test","confirmPwd","user","apiRegister","then","res","Toast","success","props","history","push","err","console","log","this","className","NavBar","noSticky","InputItem","refFun","c","onBlur","wrongMessage","title","placeholder","type","Button","onClick","Component","withRouter","apiCategories","service","get","apiCommodities","category","page","apiCommodity","_id","apiUserDetail","user_id","apiUserListSome","body","post","apiUserUpdate","put","apiLogin","apiFollow","app_user_id","follow_user_id","apiCartList","apiUpdateCartList","apiCartAddCommodity","apiAddressList","apiAddAddress","apiDeleteAddress","delete","apiAddOrder","apiDynamicCreate","apiDynamicList","apiDynamicGood","dynamic_id","apiDynamicDetail","apiDynamicMyList","apiCommonCreate","apiCommonGood","common_id","apiCommonSecondDetail","apiCommonDelete","apiCommonMyList","height","navbar","clientHeight","getHeight","style","ref","dom","backgroundColor","bgColor","top","leftSlot","color","goBack","centerSlot","rightSlot","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","basicUrl","axios","create","baseURL","interceptors","request","use","config","token","localStorageGet","headers","Authorization","error","Promise","reject","response","code","data","window","alert","msg","_defineProperty","obj","configurable","writable","handleClick","children","Notice","content","aria-hidden","xlinkHref","info","warning","loading","Notification","transitionTime","notices","removeNotice","bind","Date","getTime","notice","getNoticeKey","every","item","setTimeout","duration","onClose","map","timeout","createNotification","notification","div","document","createElement","appendChild","React","createRef","ReactDOM","render","addNotice","current","destroy","unmountComponentAtNode","removeChild","notificationDOM","svgSprite","shouldInjectCss","scripts","getElementsByTagName","getAttribute","__iconfont__svg__cssinject__","write","fn","addEventListener","indexOf","readyState","loadFn","removeEventListener","attachEvent","w","d","done","init","polling","documentElement","doScroll","onreadystatechange","IEContentLoaded","ready","svg","el","innerHTML","setAttribute","position","width","overflow","firstChild","parentNode","insertBefore","before"],"mappings":"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","file":"static/js/14.2d53b410.chunk.js","sourcesContent":["export const USER_PATTERN = /^[a-zA-Z0-9_-]{4,16}$/\r\nexport const PWD_PATTERN = /^[a-zA-Z0-9_-]{4,16}$/","import React, { Component } from 'react'\r\nimport NavBar from '@/components/NavBar'\r\nimport Button from '@/components/Button'\r\nimport InputItem from '@/components/InputItem'\r\nimport Toast from '@/components/Toast'\r\nimport {apiRegister} from '@/api/api'\r\nimport './index.less'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {USER_PATTERN, PWD_PATTERN} from './constant'\r\nimport {apiIsExistUsername} from '@/api/api'\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    usernameWrong: '',\r\n    pwdWrong: '',\r\n    confirmPwdWrong: ''\r\n  }\r\n\r\n\r\n  handleRegister = (e) => {\r\n    e.stopPropagation()\r\n    if (this.handleUsernameBlur(e) && this.handlePwdBlur(e) && this.handleConfirmPwdBlur(e)) {\r\n      this.requestCreateNewUser({\r\n        username: this.username.value,\r\n        password: this.password.value\r\n      })\r\n    }\r\n  }\r\n\r\n  // 用户名\r\n  handleUsernameBlur = (e) => {\r\n    e.stopPropagation()\r\n    this.setState({usernameWrong: ''})\r\n    const value = e.target.value || this.username.value\r\n    if(!value) {\r\n      this.setState({usernameWrong: '用户名不能为空'})\r\n      return false\r\n    } else if (!USER_PATTERN.test(value)) {\r\n      this.setState({usernameWrong: '用户名必须由4~16个数字或字母构成'})\r\n      return false\r\n    } \r\n    return true\r\n  }\r\n  // 密码\r\n  handlePwdBlur = (e) => {\r\n    e.stopPropagation()\r\n    this.setState({pwdWrong: ''})\r\n    const value = e.target.value || this.password.value\r\n    if(!value) {\r\n      this.setState({pwdWrong: '密码不能为空'})\r\n      return false\r\n    } else if (!PWD_PATTERN.test(value)) {\r\n      this.setState({pwdWrong: '密码必须由4~16个数字或字母构成'})\r\n      return false\r\n    } \r\n    return true\r\n  }\r\n  // 确认密码\r\n  handleConfirmPwdBlur = (e) => {\r\n    e.stopPropagation()\r\n    this.setState({confirmPwdWrong: ''})\r\n    const value = e.target.value || this.confirmPwd.value\r\n    if(!this.password.value) {\r\n      this.setState({confirmPwdWrong: '请先输入密码'})\r\n      return false\r\n    } else if (this.password.value !== value) {\r\n      this.setState({confirmPwdWrong: '两次密码必须相同'})\r\n      return false\r\n    }  \r\n    return true\r\n  }\r\n\r\n  requestCreateNewUser = (user) => {\r\n    apiRegister(user).then(res => {\r\n      Toast.success('注册成功', 1000)\r\n      this.props.history.push('/login')\r\n    },err => console.log('错误', err))\r\n  }\r\n\r\n  render() {\r\n    const {usernameWrong, pwdWrong, confirmPwdWrong} = this.state\r\n    return (\r\n      <div className=\"register-container\">\r\n        <NavBar noSticky />\r\n        <div className=\"padding1\">\r\n          <h3>账号注册</h3>\r\n          <div className=\"margin1-t\">\r\n            <InputItem refFun={c => this.username = c} onBlur={this.handleUsernameBlur} wrongMessage={usernameWrong} title=\"用户名\" placeholder=\"请输入用户名\"/>\r\n            <InputItem refFun={c => this.password = c} onBlur={this.handlePwdBlur} wrongMessage={pwdWrong} title=\"密码\" placeholder=\"请输入密码\" type=\"password\"/>\r\n            <InputItem refFun={c => this.confirmPwd = c} onBlur={this.handleConfirmPwdBlur} wrongMessage={confirmPwdWrong} title=\"确认密码\" placeholder=\"请确认密码\" type=\"password\"/>\r\n          </div>\r\n          <Button onClick={this.handleRegister} type=\"danger\" className=\"register-container-btn\" >注册</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Register)\r\n","// 统一管理接口\r\nimport service from './index'\r\n\r\n// 获取上级分类为商品的分类\r\nexport const apiCategories = () => service.get('/categories/commodity')\r\n// 获取上级分类为category的商品列表\r\nexport const apiCommodities = (category,page) => service.get(`/commodities/${category}/${page}`)\r\n// 根据id获取商品信息\r\nexport const apiCommodity = (_id) => service.get(`/commodity/${_id}`)\r\n\r\n// 获取用户详细信息\r\nexport const apiUserDetail = (user_id) => service.get(`/user/detail/${user_id}`)\r\n// 获取一些用户\r\nexport const apiUserListSome = () => service.get('/user/list/some')\r\n// 注册用户\r\nexport const apiRegister = (body) => service.post('/register', body)\r\n// 更新用户信息\r\nexport const apiUserUpdate = (user_id,body) => service.put(`/user/update/${user_id}`, body)\r\n// 登录\r\nexport const apiLogin = (body) => service.post('/login', body)\r\n// 查看是否有用户名\r\nexport const apiIsExistUsername = (body) => service.get('/isExistUsername', body)\r\n// 关注\r\nexport const apiFollow = (app_user_id, follow_user_id) => service.get(`/user/follow/add/${app_user_id}/${follow_user_id}`)\r\n\r\n// 获取购物车列表，传入的id是用户id\r\nexport const apiCartList = (_id) => service.get(`/cart/list/${_id}`)\r\n// 更新购物车列表，传入的id是用户id\r\nexport const apiUpdateCartList = (_id,body) => service.put(`/cart/list/update/${_id}`, body)\r\n// 将商品添加到购物车列表，id为用户id，body传入商品_id\r\nexport const apiCartAddCommodity = (_id, body) => service.post(`/cart/list/add/${_id}`, body)\r\n\r\n// 获取地址列表 id为用户id\r\nexport const apiAddressList = (_id) => service.get(`/address/list/${_id}`)\r\n// 添加地址\r\nexport const apiAddAddress = (body) => service.post('/address/create', body)\r\n// 删除地址，传入的是地址的id\r\nexport const apiDeleteAddress = (_id) => service.delete(`address/delete/${_id}`)\r\n\r\n// 获取订单列表，id为用户id\r\nexport const apiOrderList = (_id) => service.get(`/order/list/${_id}`)\r\n// 创建添加订单\r\nexport const apiAddOrder = (body) => service.post('/order/create', body)\r\n\r\n// 创建动态\r\nexport const apiDynamicCreate = (body) => service.post('/dynamic/create', body)\r\n// 获取动态列表，body为查询条件\r\nexport const apiDynamicList = (page) => service.get(`/dynamic/list/${page}`)\r\n// 更新动态点赞\r\nexport const apiDynamicGood = (dynamic_id, user_id) => service.get(`/dynamic/good/${dynamic_id}/${user_id}`)\r\n// 获取单个动态的详细信息\r\nexport const apiDynamicDetail = (dynamic_id) => service.get(`/dynamic/detail/${dynamic_id}`)\r\n// 获取个人动态列表\r\nexport const apiDynamicMyList = (user_id) => service.get(`dynamic/my/list/${user_id}`)\r\n\r\n// 创建评论\r\nexport const apiCommonCreate = (body) => service.post('/common/create', body)\r\n// 评论点赞\r\nexport const apiCommonGood = (user_id, common_id) => service.get(`/common/good/${user_id}/${common_id}`)\r\n// 获取次级评论详情\r\nexport const apiCommonSecondDetail = (common_id) => service.get(`/common/second/detail/${common_id}`)\r\n// 删除评论\r\nexport const apiCommonDelete = (common_id) => service.delete(`/common/delete/${common_id}`)\r\n// 获取个人发布的评论列表\r\nexport const apiCommonMyList = (user_id) => service.get(`/common/my/list/${user_id}`)\r\n\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// 封装axios\r\nimport axios from 'axios'\r\nimport QS from 'qs'\r\nimport {localStorageGet}  from '@/utils'\r\n// import Toast from ''\r\n\r\n//保存环境变量\r\n// const isPrd = process.env.NODE_ENV == 'production';\r\n//区分开发环境还是生产环境基础URL\r\n// export const basicUrl = isPrd ? process.env.REACT_APP_API_URL : 'http://localhost:3001/web/api'\r\nexport const basicUrl = 'http://pet.zhengjunqin.top/web/api'\r\n\r\n// 设置axios基本路径\r\nconst service = axios.create({\r\n  baseURL: basicUrl\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(config => { \r\n  const token = localStorageGet('userToken')\r\n  // 在每次的请求中添加token\r\n  // config.data = Object.assign({}, config.data, {\r\n  //   token: token,\r\n  // })\r\n  if (token) {\r\n    console.log('有token，设置token1', token)\r\n    config.headers.Authorization = 'Bearer ' + token\r\n  }\r\n  // 设置请求头\r\n  // config.headers = {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\r\n  // }\r\n  // config.data = QS.stringify(config.data)\r\n  return config\r\n}, error => { \r\n  return Promise.reject(error);\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  //根据返回不同的状态码做不同的事情\r\n  // 这里一定要和后台开发人员协商好统一的错误状态码\r\n  if (response.code) {\r\n    switch (response.code) {\r\n      case 200:\r\n        return response.data;\r\n      case 401:\r\n        //未登录处理方法\r\n        console.log('用户未登录')\r\n        break;\r\n      case 403:\r\n        //token过期处理方法\r\n        console.log('用户token过期')\r\n        break;\r\n      default:\r\n        // 发送错误消息\r\n        // message.error(response.data.msg)\r\n        window.alert('错误消息', response.data.msg)\r\n        console.log('错误消息', response.data.msg)\r\n    }\r\n  } else { \r\n    return response;\r\n  }\r\n})\r\n//最后把封装好的axios导出\r\nexport default service\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Button extends Component {\r\n  handleClick = (e) => {\r\n    e.stopPropagation()\r\n    if (this.props.type !== 'useless') {\r\n      this.props.onClick(e)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div \r\n        onClick={this.handleClick} \r\n        style={this.props.style}\r\n        className={`my-button ${this.props.type || 'default'} ${this.props.className}`}\r\n      >{this.props.title || this.props.children}</div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nclass Notice extends Component {\r\n    render() {\r\n        const icons = {\r\n            info: 'icon-info-circle-fill',\r\n            success: 'icon-check-circle-fill',\r\n            warning: 'icon-warning-circle-fill',\r\n            error: 'icon-close-circle-fill',\r\n            loading: 'icon-loading'\r\n        }\r\n        const { type, content } = this.props\r\n        return (\r\n            <div className={`toast-notice ${type}`}>\r\n                <svg className=\"icon\" aria-hidden=\"true\">\r\n                    <use xlinkHref={`#${icons[type]}`} />\r\n                </svg>\r\n                <span>{content}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notice","import React, { Component } from 'react'\r\nimport ReactDOM from 'react-dom'\r\n// import { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport Notice from './notice'\r\n\r\nclass Notification extends Component {\r\n  constructor() {\r\n    super()\r\n    this.transitionTime = 300\r\n    this.state = { notices: [] }\r\n    this.removeNotice = this.removeNotice.bind(this)\r\n  }\r\n\r\n  getNoticeKey() {\r\n    const { notices } = this.state\r\n    return `notice-${new Date().getTime()}-${notices.length}`\r\n  }\r\n\r\n  addNotice(notice) {\r\n    const { notices } = this.state\r\n    notice.key = this.getNoticeKey()\r\n    if (notices.every(item => item.key !== notice.key)) {\r\n      if (notices.length > 0 && notices[notices.length - 1].type === 'loading') {\r\n        notices.push(notice)\r\n        setTimeout(() => {\r\n          this.setState({ notices })\r\n        }, this.transitionTime)\r\n      } else {\r\n        notices.push(notice)\r\n        this.setState({ notices })\r\n      }\r\n      if (notice.duration > 0) {\r\n        setTimeout(() => {\r\n          this.removeNotice(notice.key)\r\n        }, notice.duration)\r\n      }\r\n    }\r\n    return () => {\r\n      this.removeNotice(notice.key)\r\n    }\r\n  }\r\n\r\n  removeNotice(key) {\r\n    const { notices } = this.state\r\n    this.setState({\r\n      notices: notices.filter(notice => {\r\n        if (notice.key === key) {\r\n          if (notice.onClose) setTimeout(notice.onClose, this.transitionTime)\r\n          return false\r\n        }\r\n        return true\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { notices } = this.state\r\n    return (\r\n      <div className=\"toast-notification\">\r\n        {notices.map(notice => (\r\n          <div\r\n            key={notice.key}\r\n            className=\"toast-notice-wrapper notice\"\r\n            timeout={this.transitionTime}\r\n          >\r\n            <Notice {...notice} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction createNotification() {\r\n  const div = document.createElement('div')\r\n  document.body.appendChild(div)\r\n  const ref = React.createRef()\r\n  ReactDOM.render(<Notification ref={ref} />, div)\r\n  return {\r\n    addNotice(notice) {\r\n      return ref.current.addNotice(notice)\r\n    },\r\n    destroy() {\r\n      ReactDOM.unmountComponentAtNode(div)\r\n      document.body.removeChild(div)\r\n    }\r\n  }\r\n}\r\n\r\nexport default createNotification()","import notificationDOM from './notification'\r\nimport './toast.css'\r\n\r\nlet notification\r\nconst notice = (type, content, duration = 2000, onClose) => {\r\n    if (!notification) notification = notificationDOM\r\n    return notification.addNotice({ type, content, duration, onClose })\r\n}\r\n\r\nexport default {\r\n    info(content, duration, onClose) {\r\n        return notice('info', content, duration, onClose)\r\n    },\r\n    success(content, duration, onClose) {\r\n        return notice('success', content, duration, onClose)\r\n    },\r\n    warning(content, duration, onClose) {\r\n        return notice('warning', content, duration, onClose)\r\n    },\r\n    error(content, duration, onClose) {\r\n        return notice('error', content, duration, onClose)\r\n    },\r\n    loading(content, duration = 0, onClose) {\r\n        return notice('loading', content, duration, onClose)\r\n    }\r\n}","import Toast from './toast'\r\nimport './icons'\r\n\r\nexport default Toast","/* eslint-disable */\r\n(function(window){var svgSprite='<svg><symbol id=\"icon-loading\" viewBox=\"0 0 1024 1024\"><path d=\"M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z\"  ></path></symbol><symbol id=\"icon-check-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\"  ></path></symbol><symbol id=\"icon-close-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z\"  ></path></symbol><symbol id=\"icon-info-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol><symbol id=\"icon-warning-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\r\n/* eslint-enable */","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class InputItem extends Component {\r\n  \r\n\r\n\r\n  render() {\r\n    const {title, placeholder, type, refFun} = this.props\r\n    return (\r\n      <div className=\"login-input-item\">\r\n        <span>{title}</span>\r\n        <div className=\"login-input-item-wrong\">\r\n          <input onBlur={this.props.onBlur} ref={refFun} type={type || 'text'} placeholder={placeholder}  />\r\n          <span className=\"login-input-item-wrong-message\">{this.props.wrongMessage}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}