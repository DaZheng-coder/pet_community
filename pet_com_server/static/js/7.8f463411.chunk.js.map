{"version":3,"sources":["components/TabPage/index.jsx","components/CartIcon/index.jsx","components/GoodsItem/index.jsx","pages/Shop/index.jsx","api/index.js","api/api.js","components/NavBar/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","components/Toast/notice.jsx","components/Toast/notification.jsx","components/Toast/toast.js","components/Toast/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Toast/icons.js","components/MiniLoading/index.jsx","components/HandleItem/Item/index.jsx","components/SwiperImg/index.jsx","components/SwiperContent/contant.js","components/SwiperContent/index.jsx","components/Search/index.jsx"],"names":["NoneTabPage","state","startX","startY","endX","activeIdx","offset","transition","lineLeft","isScroll","handleContentsScroll","e","stopPropagation","console","log","hanldeScroll","titles","getBoundingClientRect","top","props","height","setState","handleTouchStart","touches","clientX","handleTouchMove","preX","currentX","move","handleTouchEnd","limit","window","innerWidth","Math","abs","length","moveTab","contentW","contents","clientWidth","titleW","title","width","lineW","line","center","parseInt","scrollBy","left","behavior","handleTitlesClick","targetIdx","target","getAttribute","this","addEventListener","removeEventListener","className","onClick","style","ref","c","map","index","transform","tabList","Component","CartIcon","handleClick","localStorageGet","history","push","Toast","warning","color","withRouter","GoodsItem","gotoGoodsDetail","_id","cover","name","price","discountPrice","sales","src","alt","Shop","posterList","handleItem","icon","tabItems","contentList","getHeight","apiCategories","then","res","newTabItems","data","item","newContentList","NavBar","leftSlot","centerSlot","Search","bgColor","SwiperImg","imgsUrl","TabPage","ShopContent","commodities","page","getCommodities","loadedFun","type","selector","apiCommodities","SwiperContent","loadingMethod","commodity","service","axios","create","baseURL","interceptors","request","use","config","token","headers","Authorization","error","Promise","reject","response","code","alert","msg","get","category","apiCommodity","apiUserDetail","user_id","apiUserListSome","apiRegister","body","post","apiUserUpdate","put","apiLogin","apiFollow","app_user_id","follow_user_id","apiCartList","apiUpdateCartList","apiCartAddCommodity","apiAddressList","apiAddAddress","apiDeleteAddress","delete","apiAddOrder","apiDynamicCreate","apiDynamicList","apiDynamicGood","dynamic_id","apiDynamicDetail","apiDynamicMyList","apiCommonCreate","apiCommonGood","common_id","apiCommonSecondDetail","apiCommonDelete","apiCommonMyList","navbar","clientHeight","dom","backgroundColor","noSticky","goBack","rightSlot","_arrayLikeToArray","arr","len","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","Notice","content","aria-hidden","xlinkHref","info","success","loading","Notification","transitionTime","notices","removeNotice","bind","Date","getTime","notice","key","getNoticeKey","every","setTimeout","duration","filter","onClose","timeout","createNotification","notification","div","document","createElement","appendChild","React","createRef","ReactDOM","render","addNotice","current","destroy","unmountComponentAtNode","removeChild","notificationDOM","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","svgSprite","shouldInjectCss","scripts","getElementsByTagName","__iconfont__svg__cssinject__","write","fn","indexOf","readyState","loadFn","attachEvent","w","d","done","init","polling","documentElement","doScroll","onreadystatechange","IEContentLoaded","ready","svg","el","innerHTML","setAttribute","position","overflow","firstChild","parentNode","insertBefore","before","MiniLoading","id","Item","click","hidden","children","url","iconClass","text","Swiper","loop","autoplay","delay","disableOnInteraction","poster","NORMAL","WAITING","LOADING","LOADED","END","ALREADY_WAITING","reloadHeight","preY","status","touching","moreStatus","handleScroll","scrollTop","scrollHeight","moreLoading","moreLoaded","clientY","isScrollTop","scrollY","domBoundingTop","limitHeight","innerHeight","reLoading","reBackState","loaded","bool","a","throttle","onTouchStart","onTouchMove","onTouchEnd","placeholder"],"mappings":"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","file":"static/js/7.8f463411.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport './index.less'\r\n\r\n// 标签页\r\nexport default class NoneTabPage extends Component {\r\n  state = {\r\n    // 记录最开始的点\r\n    startX: 0,\r\n    startY: 0,\r\n    // 记录最后的点\r\n    endX: 0,\r\n    // 记录当前显示的标签页\r\n    activeIdx: 0,\r\n    // translate移动距离\r\n    offset: 0,\r\n    // 是否添加动画\r\n    transition: false,\r\n    // 标题下方小条的位置\r\n    lineLeft: 0,\r\n    // 判断是否给内容添加高度限制和滚动条\r\n    isScroll: false\r\n  }\r\n\r\n  componentDidMount () {\r\n    // 设置最开始活跃的标签页\r\n    this.moveTab(0)\r\n    window.addEventListener('scroll', this.hanldeScroll)\r\n    this.contents.addEventListener('scroll', this.handleContentsScroll)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.hanldeScroll)\r\n  }\r\n\r\n  handleContentsScroll = (e) => {\r\n    e.stopPropagation()\r\n    console.log('123')\r\n  }\r\n\r\n  // 解决滚动时上部内容不滚动的问题\r\n  hanldeScroll = (e) => {\r\n    e.stopPropagation()\r\n    const heightTop = this.titles.getBoundingClientRect().top\r\n    const {height} = this.props\r\n    if (heightTop <= height) {\r\n      this.setState({isScroll: true})\r\n    } else {\r\n      this.setState({isScroll: false})\r\n    }\r\n  }\r\n\r\n  // 滑动开始\r\n  handleTouchStart = (e) => {\r\n    e.stopPropagation()\r\n    this.setState({transition: false})\r\n    const startX = e.touches[0].clientX\r\n    this.setState({startX})\r\n  }\r\n  // 滑动中\r\n  handleTouchMove = (e) => {\r\n    e.stopPropagation()\r\n    // 判断滑动方向是否上下\r\n    const {offset,startX,preX} = this.state\r\n    const currentX = e.touches[0].clientX\r\n    const move = currentX - preX\r\n    this.setState({offset: offset + move})\r\n    this.setState({preX: currentX})\r\n  }\r\n  // 滑动结束\r\n  handleTouchEnd = (e) => {\r\n    e.stopPropagation()\r\n    let {startX,activeIdx,preX} = this.state\r\n    const {titles} = this.props\r\n    const move = preX - startX\r\n    const limit = window.innerWidth / 3\r\n    if (Math.abs(move) > limit) {\r\n      if (move > 0) {\r\n        if (activeIdx !== 0) {\r\n          activeIdx--\r\n        }\r\n      } else {\r\n        if(activeIdx !== titles.length - 1) {\r\n          activeIdx++\r\n        }\r\n      }\r\n      // this.setState({activeIdx})\r\n    }\r\n    this.moveTab(activeIdx)\r\n  }\r\n\r\n  // 移动标签页\r\n  moveTab = (activeIdx) => {\r\n    // 移动标签页\r\n    const contentW = this.contents.clientWidth\r\n    this.setState({activeIdx})\r\n    this.setState({offset: -contentW * activeIdx})\r\n    this.setState({transition: true})\r\n    // 移动下方小条\r\n    const titleW = this.title.getBoundingClientRect().width\r\n    const lineW = this.line.getBoundingClientRect().width\r\n    this.setState({lineLeft: titleW * activeIdx + titleW / 2 - lineW / 2})\r\n    // 移动标题栏\r\n    const center = parseInt(this.props.titles.length / 2)\r\n    if (activeIdx > center - 1) {\r\n      this.titles.scrollBy({\r\n        left: titleW,\r\n        behavior: 'smooth'\r\n      })\r\n    } else if (activeIdx < center){\r\n      this.titles.scrollBy({\r\n        left: -titleW,\r\n        behavior: 'smooth'\r\n      })\r\n    }\r\n  }\r\n\r\n  // 处理点击标题事件\r\n  handleTitlesClick = (e) => {\r\n    e.stopPropagation()\r\n    const targetIdx = e.target.getAttribute('index')\r\n    console.log('targetIdx', targetIdx)\r\n    this.moveTab(targetIdx)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      // 父组件传入的标签页 标题，type:数组\r\n      titles\r\n    } = this.props\r\n    const {offset,transition,activeIdx,lineLeft,isScroll} = this.state\r\n    return (\r\n      <div className=\"tp-ctr\">\r\n        <div onClick={this.handleTitlesClick} style={{top: this.props.height + 'px'}} ref={c => this.titles = c} className=\"tp-crt-titles bg\">\r\n          {titles && titles.map((title,index) => \r\n            <div index={index} ref={c => this.title = c} key={index} className=\"tp-ctr-titles-title\">\r\n              <span index={index} className={parseInt(activeIdx) === index ? 'tp-crt-titles-title-active': ''}>{title}</span>\r\n            </div>\r\n          )}\r\n          <div ref={c => this.line = c} style={{left: `${lineLeft}px`}} className=\"active-line\"></div>\r\n        </div>\r\n        <div className=\"tp-ctr-contents-container\">\r\n          <div className={`${transition ? 'transition' : ''} tp-ctr-contents`}\r\n            // onTouchStart={this.handleTouchStart}\r\n            // onTouchMove={this.handleTouchMove}\r\n            // onTouchEnd={this.handleTouchEnd}\r\n            style={{transform: `translateX(${offset}px)`}}\r\n            ref={c => this.contents = c}\r\n          >\r\n            {titles && titles.map((title,index) => \r\n              <div key={index} \r\n                className={`${isScroll ? 'tp-ctr-content-scroll' : ''} tp-ctr-contents-content`}>\r\n                {activeIdx == index && this.props.tabList[index]}\r\n              </div>\r\n            )}\r\n          </div>  \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {localStorageGet} from '@/utils'\r\nimport Toast from '@/components/Toast'\r\nimport './index.less'\r\n\r\nclass CartIcon extends Component {\r\n\r\n  handleClick = (e) => {\r\n    e.stopPropagation()\r\n    if (localStorageGet('user') !== null) {\r\n      e.stopPropagation()\r\n      this.props.history.push('/cart')\r\n    } else {\r\n      Toast.warning('请先登录', 1000)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{color: this.props.color}} onClick={this.handleClick} className=\"cart-icon flex flex1 flex-column flex-center\">\r\n        <i className=\"iconfont icon-icon-20\" />\r\n        <span>购物车</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(CartIcon)\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass GoodsItem extends Component {\r\n  gotoGoodsDetail = (e) => {\r\n    e.stopPropagation()\r\n    this.props.history.push(`/goodsDetail/${this.props._id}`)\r\n  }\r\n\r\n  render() {\r\n    const {cover, name, price, discountPrice,sales} = this.props\r\n    return (\r\n      <div onClick={this.gotoGoodsDetail} className={`bg goodsitem-container margin1-b ${this.props.className ||''}`}>\r\n        <div className=\"goodsitem-container-img hidden\">\r\n          <img className=\"wh100\" src={cover} alt=\"\" />\r\n        </div>\r\n        <div className=\"goodsitem-container-title font3 font-bolder\">\r\n          {name}\r\n        </div>\r\n        <div className=\"font25 flex\">\r\n          ￥{discountPrice}\r\n          <div className=\"font1 font-deep-gray\">￥{price}</div>\r\n        </div>\r\n        <div className=\"goodsitem-container-price\">\r\n          <span className=\"font-deep-gray\">销量：{sales}</span>\r\n          <i className=\"iconfont icon-icon-20\"></i>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(GoodsItem)\r\n","import React, { Component } from 'react'\r\nimport NavBar from '@/components/NavBar'\r\nimport Item from '@/components/HandleItem/Item'\r\nimport Search from '@/components/Search'\r\nimport SwiperImg from '@/components/SwiperImg'\r\n// import LinkageBar from '@/components/LinkageBar'\r\nimport SwiperContent from '@/components/SwiperContent'\r\nimport TabPage from '@/components/TabPage'\r\nimport GoodsItem from '@/components/GoodsItem'\r\nimport CartIcon from '@/components/CartIcon'\r\n\r\nimport {apiCategories, apiCommodities} from '@/api/api'\r\n\r\nimport './index.less'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Shop extends Component {\r\n  state = {\r\n    height: 0,\r\n    posterList: [\r\n      'https://iconfont.alicdn.com/t/31a43374-e29e-4ead-aa09-3cda3f70ca3d.png',\r\n      'https://iconfont.alicdn.com/t/4a760730-42c9-4b07-8e56-4a1acba374ad.png',\r\n      'https://iconfont.alicdn.com/t/04c2eeec-1fbb-448c-ae00-4ae2aa580ecd.png'\r\n    ],\r\n    handleItem: [\r\n      {\r\n        title: '狗狗主粮',\r\n        icon: 'https://iconfont.alicdn.com/t/12296081-a642-4e44-b627-1c7749508382.png'\r\n      },\r\n      {\r\n        title: '狗狗零食',\r\n        icon: 'https://iconfont.alicdn.com/t/2ec81da8-f896-4ca7-8165-24643aef5d31.png'\r\n      },\r\n      {\r\n        title: '狗狗保健',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '狗狗药品',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '狗狗玩具',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '猫咪主粮',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '猫咪药品',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '猫咪保健',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '猫咪零食',\r\n        icon: 'https://iconfont.alicdn.com/t/a3158f33-08ff-4c76-a6a4-da4e6f3ef534.png'\r\n      },\r\n      {\r\n        title: '更多',\r\n        icon: 'https://iconfont.alicdn.com/t/2a902e59-cdc0-4317-8711-f4ad2119c087.png'\r\n      }\r\n    ],\r\n    tabItems: ['全犬粮', '全猫粮', '主食猫粮', '零食猫粮', '猫砂厕所'],\r\n    contentList: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    apiCategories().then(res => {\r\n      const newTabItems = ['全部', ...(res.data.map(item => item.name))]\r\n      // 传入分类信息\r\n      const newContentList = res.data.map(item => <ShopContent {...item} />)\r\n      const all = {_id: 1, name: '全部'}\r\n      this.setState({tabItems:newTabItems})\r\n      this.setState({contentList: [<ShopContent {...all}/> ,...newContentList]})\r\n    })\r\n  }\r\n\r\n  getHeight = (height) => {\r\n    this.setState({height})\r\n  }\r\n\r\n  render() {\r\n    const {posterList, handleItem, tabItems, contentList, height} = this.state\r\n    return (\r\n      <div>\r\n        <NavBar \r\n          leftSlot={\r\n            <CartIcon color=\"white\"/>\r\n          } \r\n          centerSlot={<Search />} \r\n          bgColor=\"red\"\r\n          getHeight={this.getHeight}\r\n        />\r\n        <div className=\"page-pd bg\">\r\n          <SwiperImg imgsUrl={posterList} className=\"shop-container-imgs\"/>\r\n          {/* <div className=\"margin1-t shop-handle-items flex\">\r\n            {\r\n              handleItem.map((item,index) => <div key={index} className=\"shop-handle-item\"><Item text={item.title} url={item.icon}/></div>)\r\n            }\r\n          </div> */}\r\n        </div>\r\n        {/* {contentList.length > 0 && <LinkageBar slidesPerView={5} tabItems={tabItems} contentList={contentList} height={height}/>} */}\r\n        {\r\n          contentList.length > 0 && \r\n            <TabPage \r\n              height={height}\r\n              titles={tabItems}\r\n              tabList={contentList}\r\n            />\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass ShopContent extends Component {\r\n  state = {\r\n    commodities: [],\r\n    // 分页信息\r\n    page: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCommodities(() => {})\r\n  }\r\n\r\n  // 获取商品数据\r\n  getCommodities = (loadedFun, type='reload') => {\r\n    const {_id, name} = this.props\r\n    const selector = name === '全部' ? '1' : _id\r\n    let {page} = this.state\r\n    page++\r\n    this.setState({page})\r\n    // 获取商品数据\r\n    apiCommodities(selector, page).then(res => {\r\n      // 判断是否有结果\r\n      if(res.data.length !== 0) {\r\n        if (type === 'reload') {\r\n          this.setState({commodities: res.data})\r\n        } else if (type==='addLoad') {\r\n          const {commodities} = this.state\r\n          this.setState({commodities: [...commodities, ...res.data]})\r\n        }\r\n        loadedFun()\r\n      } else {\r\n        // 已经加载所有\r\n        loadedFun(true)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {commodities} = this.state\r\n    return (\r\n      <SwiperContent loadingMethod={this.getCommodities}>\r\n        <div className=\"shop-content-container\">\r\n          {\r\n            commodities.length > 0 && commodities.map(commodity => <GoodsItem key={commodity._id} {...commodity}/>) \r\n          }\r\n        </div>\r\n      </SwiperContent>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Shop)\r\n\r\n","// 封装axios\r\nimport axios from 'axios'\r\nimport QS from 'qs'\r\nimport {localStorageGet}  from '@/utils'\r\n// import Toast from ''\r\n\r\n//保存环境变量\r\n// const isPrd = process.env.NODE_ENV == 'production';\r\n//区分开发环境还是生产环境基础URL\r\n// export const basicUrl = isPrd ? process.env.REACT_APP_API_URL : 'http://localhost:3001/web/api'\r\nexport const basicUrl = 'http://pet.zhengjunqin.top/web/api'\r\n\r\n// 设置axios基本路径\r\nconst service = axios.create({\r\n  baseURL: basicUrl\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(config => { \r\n  const token = localStorageGet('userToken')\r\n  // 在每次的请求中添加token\r\n  // config.data = Object.assign({}, config.data, {\r\n  //   token: token,\r\n  // })\r\n  if (token) {\r\n    console.log('有token，设置token1', token)\r\n    config.headers.Authorization = 'Bearer ' + token\r\n  }\r\n  // 设置请求头\r\n  // config.headers = {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\r\n  // }\r\n  // config.data = QS.stringify(config.data)\r\n  return config\r\n}, error => { \r\n  return Promise.reject(error);\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  //根据返回不同的状态码做不同的事情\r\n  // 这里一定要和后台开发人员协商好统一的错误状态码\r\n  if (response.code) {\r\n    switch (response.code) {\r\n      case 200:\r\n        return response.data;\r\n      case 401:\r\n        //未登录处理方法\r\n        console.log('用户未登录')\r\n        break;\r\n      case 403:\r\n        //token过期处理方法\r\n        console.log('用户token过期')\r\n        break;\r\n      default:\r\n        // 发送错误消息\r\n        // message.error(response.data.msg)\r\n        window.alert('错误消息', response.data.msg)\r\n        console.log('错误消息', response.data.msg)\r\n    }\r\n  } else { \r\n    return response;\r\n  }\r\n})\r\n//最后把封装好的axios导出\r\nexport default service\r\n","// 统一管理接口\r\nimport service from './index'\r\n\r\n// 获取上级分类为商品的分类\r\nexport const apiCategories = () => service.get('/categories/commodity')\r\n// 获取上级分类为category的商品列表\r\nexport const apiCommodities = (category,page) => service.get(`/commodities/${category}/${page}`)\r\n// 根据id获取商品信息\r\nexport const apiCommodity = (_id) => service.get(`/commodity/${_id}`)\r\n\r\n// 获取用户详细信息\r\nexport const apiUserDetail = (user_id) => service.get(`/user/detail/${user_id}`)\r\n// 获取一些用户\r\nexport const apiUserListSome = () => service.get('/user/list/some')\r\n// 注册用户\r\nexport const apiRegister = (body) => service.post('/register', body)\r\n// 更新用户信息\r\nexport const apiUserUpdate = (user_id,body) => service.put(`/user/update/${user_id}`, body)\r\n// 登录\r\nexport const apiLogin = (body) => service.post('/login', body)\r\n// 查看是否有用户名\r\nexport const apiIsExistUsername = (body) => service.get('/isExistUsername', body)\r\n// 关注\r\nexport const apiFollow = (app_user_id, follow_user_id) => service.get(`/user/follow/add/${app_user_id}/${follow_user_id}`)\r\n\r\n// 获取购物车列表，传入的id是用户id\r\nexport const apiCartList = (_id) => service.get(`/cart/list/${_id}`)\r\n// 更新购物车列表，传入的id是用户id\r\nexport const apiUpdateCartList = (_id,body) => service.put(`/cart/list/update/${_id}`, body)\r\n// 将商品添加到购物车列表，id为用户id，body传入商品_id\r\nexport const apiCartAddCommodity = (_id, body) => service.post(`/cart/list/add/${_id}`, body)\r\n\r\n// 获取地址列表 id为用户id\r\nexport const apiAddressList = (_id) => service.get(`/address/list/${_id}`)\r\n// 添加地址\r\nexport const apiAddAddress = (body) => service.post('/address/create', body)\r\n// 删除地址，传入的是地址的id\r\nexport const apiDeleteAddress = (_id) => service.delete(`address/delete/${_id}`)\r\n\r\n// 获取订单列表，id为用户id\r\nexport const apiOrderList = (_id) => service.get(`/order/list/${_id}`)\r\n// 创建添加订单\r\nexport const apiAddOrder = (body) => service.post('/order/create', body)\r\n\r\n// 创建动态\r\nexport const apiDynamicCreate = (body) => service.post('/dynamic/create', body)\r\n// 获取动态列表，body为查询条件\r\nexport const apiDynamicList = (page) => service.get(`/dynamic/list/${page}`)\r\n// 更新动态点赞\r\nexport const apiDynamicGood = (dynamic_id, user_id) => service.get(`/dynamic/good/${dynamic_id}/${user_id}`)\r\n// 获取单个动态的详细信息\r\nexport const apiDynamicDetail = (dynamic_id) => service.get(`/dynamic/detail/${dynamic_id}`)\r\n// 获取个人动态列表\r\nexport const apiDynamicMyList = (user_id) => service.get(`dynamic/my/list/${user_id}`)\r\n\r\n// 创建评论\r\nexport const apiCommonCreate = (body) => service.post('/common/create', body)\r\n// 评论点赞\r\nexport const apiCommonGood = (user_id, common_id) => service.get(`/common/good/${user_id}/${common_id}`)\r\n// 获取次级评论详情\r\nexport const apiCommonSecondDetail = (common_id) => service.get(`/common/second/detail/${common_id}`)\r\n// 删除评论\r\nexport const apiCommonDelete = (common_id) => service.delete(`/common/delete/${common_id}`)\r\n// 获取个人发布的评论列表\r\nexport const apiCommonMyList = (user_id) => service.get(`/common/my/list/${user_id}`)\r\n\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import React, { Component } from 'react'\r\n\r\nclass Notice extends Component {\r\n    render() {\r\n        const icons = {\r\n            info: 'icon-info-circle-fill',\r\n            success: 'icon-check-circle-fill',\r\n            warning: 'icon-warning-circle-fill',\r\n            error: 'icon-close-circle-fill',\r\n            loading: 'icon-loading'\r\n        }\r\n        const { type, content } = this.props\r\n        return (\r\n            <div className={`toast-notice ${type}`}>\r\n                <svg className=\"icon\" aria-hidden=\"true\">\r\n                    <use xlinkHref={`#${icons[type]}`} />\r\n                </svg>\r\n                <span>{content}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notice","import React, { Component } from 'react'\r\nimport ReactDOM from 'react-dom'\r\n// import { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport Notice from './notice'\r\n\r\nclass Notification extends Component {\r\n  constructor() {\r\n    super()\r\n    this.transitionTime = 300\r\n    this.state = { notices: [] }\r\n    this.removeNotice = this.removeNotice.bind(this)\r\n  }\r\n\r\n  getNoticeKey() {\r\n    const { notices } = this.state\r\n    return `notice-${new Date().getTime()}-${notices.length}`\r\n  }\r\n\r\n  addNotice(notice) {\r\n    const { notices } = this.state\r\n    notice.key = this.getNoticeKey()\r\n    if (notices.every(item => item.key !== notice.key)) {\r\n      if (notices.length > 0 && notices[notices.length - 1].type === 'loading') {\r\n        notices.push(notice)\r\n        setTimeout(() => {\r\n          this.setState({ notices })\r\n        }, this.transitionTime)\r\n      } else {\r\n        notices.push(notice)\r\n        this.setState({ notices })\r\n      }\r\n      if (notice.duration > 0) {\r\n        setTimeout(() => {\r\n          this.removeNotice(notice.key)\r\n        }, notice.duration)\r\n      }\r\n    }\r\n    return () => {\r\n      this.removeNotice(notice.key)\r\n    }\r\n  }\r\n\r\n  removeNotice(key) {\r\n    const { notices } = this.state\r\n    this.setState({\r\n      notices: notices.filter(notice => {\r\n        if (notice.key === key) {\r\n          if (notice.onClose) setTimeout(notice.onClose, this.transitionTime)\r\n          return false\r\n        }\r\n        return true\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { notices } = this.state\r\n    return (\r\n      <div className=\"toast-notification\">\r\n        {notices.map(notice => (\r\n          <div\r\n            key={notice.key}\r\n            className=\"toast-notice-wrapper notice\"\r\n            timeout={this.transitionTime}\r\n          >\r\n            <Notice {...notice} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction createNotification() {\r\n  const div = document.createElement('div')\r\n  document.body.appendChild(div)\r\n  const ref = React.createRef()\r\n  ReactDOM.render(<Notification ref={ref} />, div)\r\n  return {\r\n    addNotice(notice) {\r\n      return ref.current.addNotice(notice)\r\n    },\r\n    destroy() {\r\n      ReactDOM.unmountComponentAtNode(div)\r\n      document.body.removeChild(div)\r\n    }\r\n  }\r\n}\r\n\r\nexport default createNotification()","import notificationDOM from './notification'\r\nimport './toast.css'\r\n\r\nlet notification\r\nconst notice = (type, content, duration = 2000, onClose) => {\r\n    if (!notification) notification = notificationDOM\r\n    return notification.addNotice({ type, content, duration, onClose })\r\n}\r\n\r\nexport default {\r\n    info(content, duration, onClose) {\r\n        return notice('info', content, duration, onClose)\r\n    },\r\n    success(content, duration, onClose) {\r\n        return notice('success', content, duration, onClose)\r\n    },\r\n    warning(content, duration, onClose) {\r\n        return notice('warning', content, duration, onClose)\r\n    },\r\n    error(content, duration, onClose) {\r\n        return notice('error', content, duration, onClose)\r\n    },\r\n    loading(content, duration = 0, onClose) {\r\n        return notice('loading', content, duration, onClose)\r\n    }\r\n}","import Toast from './toast'\r\nimport './icons'\r\n\r\nexport default Toast","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/* eslint-disable */\r\n(function(window){var svgSprite='<svg><symbol id=\"icon-loading\" viewBox=\"0 0 1024 1024\"><path d=\"M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z\"  ></path></symbol><symbol id=\"icon-check-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\"  ></path></symbol><symbol id=\"icon-close-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z\"  ></path></symbol><symbol id=\"icon-info-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol><symbol id=\"icon-warning-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\r\n/* eslint-enable */","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class MiniLoading extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"loading2\">\r\n        <div className=\"demo2\"></div>\r\n        <div className=\"demo2\"></div>\r\n        <div className=\"demo2\"></div>\r\n        <div className=\"demo2\"></div>\r\n        <div className=\"demo2\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Item extends Component {\r\n  render() {\r\n    return (\r\n      <div className={`flex flex-center flex-column flex-wrap-children ${this.props.className}`} onClick={this.props.click || null}>\r\n        <div hidden className=\"handle-item flex-center\">\r\n          {\r\n            this.props.children ||\r\n              (this.props.url && <img className=\"wh100\" src={this.props.url} alt=\"图标\" />) || \r\n              <i className={`iconfont ${this.props.iconClass}`} />\r\n          }\r\n        </div>\r\n        <span className=\"handle-item-text\">{this.props.text}</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Swiper from \"swiper\"\r\nimport 'swiper/swiper-bundle.css'\r\nimport './index.less'\r\n\r\nexport default class SwiperImg extends Component {\r\n\r\n  componentDidMount(){\r\n     new Swiper('.swiper-container', {\r\n      loop: true,\r\n      autoplay: {\r\n        delay: 1000,\r\n        disableOnInteraction: false\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const {imgsUrl} = this.props\r\n    return (\r\n      <div className={`swiper-container-img swiper-container ${this.props.className || ''}`}>\r\n        <div className=\"swiper-wrapper\">\r\n          {\r\n            imgsUrl && imgsUrl.map((poster,index) => {\r\n              return (\r\n                <div key={index} className=\"swiper-slide\">\r\n                  <img className=\"swiper-container-img-item wh100\" src={poster} alt=\"轮播海报\"/>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// 上拉限制 单位px\r\nexport const PULL_UP_MAX = 100\r\n// 状态\r\n// 正常\r\nexport const NORMAL = 'normal'\r\n// 等待松开触发刷新\r\nexport const WAITING = 'waiting'\r\n// 加载中\r\nexport const LOADING = 'loading'\r\n// 加载完成\r\nexport const LOADED = 'loaded'\r\n// 没有了\r\nexport const END = 'end'\r\n\r\n// 触发可松开刷新的条件 单位px\r\nexport const ALREADY_WAITING = 50","import React, { Component } from 'react'\r\nimport MiniLoading from '@/components/MiniLoading'\r\nimport {\r\n  PULL_UP_MAX,\r\n  NORMAL,\r\n  WAITING,\r\n  LOADING,\r\n  LOADED,\r\n  ALREADY_WAITING,\r\n  END\r\n} from './contant.js'\r\nimport {throttle} from '@/utils'\r\nimport './index.less'\r\n\r\nexport default class SwiperContent extends Component {\r\n  state = {\r\n    reloadHeight: 0,\r\n    preY: null,\r\n    // 状态，NORMAL为下拉即可刷新中状态，waiting为上拉即可刷新，loading为加载中，loaded为加载完成\r\n    status: NORMAL,\r\n    height: 0,\r\n    // 动画开关\r\n    touching: false,\r\n    // 下拉加载更多的状态\r\n    moreStatus: LOADING,\r\n  }\r\n\r\n  componentDidMount () {\r\n    window.addEventListener('scroll', throttle(this.handleScroll))\r\n  }\r\n\r\n  handleScroll = (e) => {\r\n    e.stopPropagation()\r\n    let scrollTop = document.documentElement.scrollTop || document.body.scrollTop\r\n    let clientHeight = document.documentElement.clientHeight || document.body.clientHeight\r\n    let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight\r\n    if (scrollHeight > clientHeight && scrollTop + clientHeight === scrollHeight) {\r\n      this.setState({moreLoading: LOADING})\r\n      this.props.loadingMethod(this.moreLoaded, 'addLoad')\r\n    }\r\n  }\r\n\r\n  handleTouchStart = (e) => {\r\n    // 如果滚动条在最顶部，记录开始触碰点\r\n    this.setState({preY: e.touches[0].clientY})\r\n    this.setState({touching: true})\r\n  }\r\n\r\n  handleTouchMove = (e) => {\r\n    const {reloadHeight,preY} = this.state\r\n    // 如果滚动条滚动到最顶部，touch方向为向下（move>0），限制高度\r\n    // 如果滚动条在最顶部，touch方向向上，自然滑动\r\n    // 获取是否在最顶部\r\n    const isScrollTop = window.scrollY === 0\r\n    const move = e.touches[0].clientY - preY\r\n    if (isScrollTop && move > 0) {\r\n      // 限制高度\r\n      // 首先获取元素距离视口顶部的距离\r\n      const domBoundingTop = this.dom.getBoundingClientRect().top\r\n      // 然后获取视口高度\r\n      const windowHeight = window.innerHeight\r\n      // 计算获取要限制的高度\r\n      const limitHeight = windowHeight - domBoundingTop\r\n      this.setState({height: limitHeight})\r\n\r\n      // 已经限制了高度，开始设置reloadHeight\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // 更新preY为当前点\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (isScrollTop && reloadHeight !== 0) {\r\n      // 当滚动条在最顶部，并且touch方向为向上，还有reloadHeight不是0的情况，也就是正在滚动中\r\n      this.setState({reloadHeight: reloadHeight + move})\r\n      // this.setState({preY: e.touches[0].clientY})\r\n    } else if (reloadHeight === 0) {\r\n      this.setState({height: 0})\r\n    }\r\n    if (reloadHeight < 0) {\r\n      // 解决因为拖动过快而导致的reloadHeight为负数的情况\r\n      this.setState({reloadHeight: 0})\r\n    } else if (reloadHeight < ALREADY_WAITING) {\r\n      this.setState({status: NORMAL})\r\n    } else if (reloadHeight >= ALREADY_WAITING) {\r\n      this.setState({status: WAITING})\r\n    } \r\n    this.setState({preY: e.touches[0].clientY})\r\n  }\r\n\r\n  handleTouchEnd = (e) => {\r\n    const {reloadHeight} = this.state\r\n    if(reloadHeight > ALREADY_WAITING) {\r\n      this.setState({reloadHeight: ALREADY_WAITING})\r\n      this.setState({status: LOADING})\r\n      this.reLoading()\r\n    } else {\r\n      this.reBackState()\r\n    }\r\n    this.setState({touching: false})\r\n  }\r\n\r\n  // 显示加载完的状态\r\n  loaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({status: END})\r\n    } else {\r\n      this.setState({status: LOADED})\r\n    }\r\n    setTimeout(() => this.reBackState(), 500)\r\n  }\r\n\r\n  moreLoaded = (bool) => {\r\n    console.log('bool', bool)\r\n    if (bool) {\r\n      this.setState({moreStatus: END})\r\n    } else {\r\n      this.setState({moreLoading: LOADED})\r\n    }\r\n  }\r\n\r\n  // 加载中\r\n  reLoading = async () => {\r\n    this.props.loadingMethod(this.loaded)\r\n  }\r\n\r\n  // 重置到最初状态\r\n  reBackState = () => {\r\n    this.setState({reloadHeight: 0})\r\n    this.setState({preY: null})\r\n    this.setState({status: NORMAL})\r\n    this.setState({height: 0})\r\n  }\r\n\r\n  render() {\r\n    const {reloadHeight, status, height, touching, moreStatus} = this.state\r\n    return (\r\n      <div\r\n        ref={c => this.dom = c}\r\n        onTouchStart={this.handleTouchStart}\r\n        onTouchMove={this.handleTouchMove}\r\n        onTouchEnd={this.handleTouchEnd}\r\n        style={{height:`${height ? height + 'px' : 'auto'}`}} \r\n        className=\"swiper-content-container\"\r\n      >\r\n        <div className=\"swiper-content-container-holder\">\r\n          <div style={{height: `${reloadHeight}px`}} className={`load-reload ${touching ? '' : 'transition'}`}>\r\n            {\r\n              status === NORMAL ? <div>下拉即可刷新</div> : \r\n                status === WAITING ? <div>松开即可刷新,上拉取消加载</div> :\r\n                  status === LOADING ? <MiniLoading/> :\r\n                    status === LOADED ?<div>加载完成</div> :\r\n                      <div>没有更多了</div>\r\n            }\r\n          </div>\r\n          <div className=\"swiper-content-container-holder-article\">\r\n            {this.props.children} \r\n          </div> \r\n          <div className=\"load-more\">\r\n            {\r\n              moreStatus === LOADING ? <MiniLoading /> : \r\n                moreStatus === LOADED ? <span>加载完成</span> :\r\n                  <span>没有更多了</span>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search-container\" style={{backgroundColor: this.props.bgColor}}>\r\n        <i className=\"search-container-icon iconfont icon-icon-35\"></i>\r\n        <input className=\"search-container-input\" type=\"text\" placeholder=\"搜索你想要的~\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}