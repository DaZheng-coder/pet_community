{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","pages/CreateDynamic/index.jsx","api/index.js","api/api.js","components/NavBar/index.jsx","components/Button/index.jsx","../node_modules/webpack/buildin/module.js","../node_modules/pubsub-js/src/pubsub.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/nanoid/index.browser.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","CreateDynamic","state","imgs","handleSendClick","stopPropagation","console","log","textarea","body","user_id","props","app_user","_id","text","apiDynamicCreate","then","res","PubSub","publish","history","replace","handleChange","type","index","files","target","file","reader","FileReader","onload","resFile","dataURLtoFile","result","Date","now","formData","FormData","append","axios","method","url","data","headers","setState","newImgs","map","img","idx","readAsDataURL","handleDelete","filter","this","className","title","rightSlot","onClick","ref","c","rows","placeholder","src","alt","onChange","dom","input","accept","capture","multiple","nanoid","Component","connect","user","withRouter","service","create","baseURL","interceptors","request","use","config","token","localStorageGet","Authorization","error","Promise","reject","response","code","window","alert","msg","apiCategories","get","apiCommodities","category","page","apiCommodity","apiUserDetail","apiUserListSome","apiRegister","post","apiUserUpdate","put","apiLogin","apiFollow","app_user_id","follow_user_id","apiCartList","apiUpdateCartList","apiCartAddCommodity","apiAddressList","apiAddAddress","apiDeleteAddress","delete","apiAddOrder","apiDynamicList","apiDynamicGood","dynamic_id","apiDynamicDetail","apiDynamicMyList","apiCommonCreate","apiCommonGood","common_id","apiCommonSecondDetail","apiCommonDelete","apiCommonMyList","NavBar","height","navbar","clientHeight","getHeight","style","backgroundColor","bgColor","top","noSticky","leftSlot","color","goBack","centerSlot","Button","handleClick","children","module","exports","webpackPolyfill","deprecate","paths","Object","defineProperty","enumerable","l","root","factory","messages","lastUid","ALL_SUBSCRIBING_MSG","hasKeys","obj","key","prototype","hasOwnProperty","call","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","setTimeout","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","subscribers","callSubscriber","createDeliveryFunction","topic","String","position","lastIndexOf","substr","hasDirectSubscribersFor","Boolean","messageHasSubscribers","found","sync","deliver","toString","publishSync","subscribe","func","subscribeAll","subscribeOnce","unsubscribe","apply","arguments","clearAllSubscriptions","clearSubscriptions","m","indexOf","countSubscriptions","count","getSubscriptions","list","push","t","descendantTopicExists","isTopic","isToken","isFunction","undefined","_arrayLikeToArray","arr","len","arr2","_unsupportedIterableToArray","minLen","slice","constructor","name","from","test","_toConsumableArray","arrayLikeToArray","iter","unsupportedIterableToArray","size","id","bytes","crypto","getRandomValues","Uint8Array","byte","toUpperCase"],"mappings":"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","file":"static/js/15.2084a763.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport NavBar from '@/components/NavBar'\r\nimport Button from '@/components/Button'\r\nimport {nanoid} from 'nanoid'\r\nimport {dataURLtoFile} from '@/utils'\r\nimport {apiDynamicCreate} from '@/api/api'\r\nimport PubSub from 'pubsub-js'\r\nimport axios from 'axios'\r\nimport './index.less'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass CreateDynamic extends Component {\r\n\r\n  state = {\r\n    imgs: []\r\n  }\r\n\r\n  // 发送动态事件\r\n  handleSendClick = (e) => {\r\n    e.stopPropagation()\r\n    console.log('内容', this.textarea.value)\r\n    const body = {\r\n      user_id: this.props.app_user._id,\r\n      text: this.textarea.value,\r\n      imgs: this.state.imgs\r\n    }\r\n    apiDynamicCreate(body).then(res => {\r\n      console.log('创建动态成功', res)\r\n      // 重新刷新动态页面列表\r\n      PubSub.publish('updateDynamicList', 'restart')\r\n      this.props.history.replace('/community')\r\n    })\r\n  }\r\n\r\n  // 点击添加图片\r\n  handleChange = (e, type='add',index) => {\r\n    e.stopPropagation()\r\n    console.log('添加图片')\r\n    console.log('事件本身', e)\r\n    const files = e.target.files\r\n    // const imageType = /^image\\//\r\n    for (let file of files) {\r\n      // if(!imageType.test(file.type)) {\r\n      //   console.log('请选择图片！')\r\n      //   return \r\n      // }\r\n      console.log('进入循环')\r\n      let reader = new FileReader()\r\n      console.log('读取文件')\r\n      reader.onload = (e) => {\r\n        // 更换图片\r\n        const {imgs} = this.state\r\n        console.log('进入事件')\r\n        const resFile = dataURLtoFile(e.target.result, 'pj' + Date.now() + '.jpg')\r\n        const formData = new FormData()\r\n        formData.append('file', resFile)\r\n        axios({\r\n          method: 'POST',\r\n          url: \"http://localhost:3000/web/api/upload\",\r\n          data: formData,\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        }).then(res => {\r\n          console.log('res.url', res)\r\n          if (type==='add') {\r\n            this.setState({imgs: [...imgs,res.data]})\r\n          } else if (type === 'replace') { \r\n            const newImgs = imgs.map((img,idx) => \r\n              index === idx ? res.data : img\r\n            )\r\n            this.setState({imgs: newImgs})\r\n          }\r\n        })\r\n        \r\n        // 以下内容为测试\r\n      }\r\n      reader.readAsDataURL(file || null)\r\n    }\r\n  }\r\n\r\n  // 删除图片\r\n  handleDelete = (e,index) => {\r\n    e.stopPropagation()\r\n    console.log('点击了')\r\n    const {imgs} = this.state\r\n    const newImgs = imgs.filter((imgs,idx) => idx !== index)\r\n    this.setState({imgs: newImgs})\r\n  }\r\n\r\n  render() {\r\n    const {imgs} = this.state\r\n    return (\r\n      <div className=\"cd-ctn\">\r\n        <NavBar title=\"发布动态\" \r\n          rightSlot={\r\n            <Button \r\n              type=\"danger\"\r\n              onClick={this.handleSendClick} \r\n              className=\"cd-ctn-send-btn\"\r\n            >\r\n              发布\r\n            </Button>\r\n          }\r\n        />\r\n        <div className=\"bg padding1\">\r\n          <textarea \r\n            ref={c => this.textarea = c} \r\n            rows=\"10\"\r\n            placeholder=\"分享新鲜事\" \r\n            className=\"cd-btn-textarea\" \r\n          />\r\n          <div className=\"cd-btn-imgs\">\r\n            {\r\n              imgs && imgs.map((img,index) => \r\n              <div key={nanoid()} className=\"cd-btn-picture-btn-bg\">\r\n                <img className=\"cd-btn-img\" src={img} alt=\"动态图片\"/>\r\n                <input \r\n                className=\"cd-btn-picture-btn\"\r\n                onChange={(e) => this.handleChange(e,'replace', index)}\r\n                ref={dom => this.input = dom} \r\n                type=\"file\"  \r\n                accept=\"image/*\" \r\n                capture=\"camera\" \r\n                multiple\r\n                />\r\n                <div onClick={(e) => this.handleDelete(e, index)} className=\"img-delete\"><i className=\"iconfont icon-icon-59\"/></div>\r\n              </div>)\r\n            }\r\n            {\r\n              imgs.length < 9 && \r\n              <div className=\"cd-btn-picture-btn-bg\">\r\n                <i className=\"iconfont icon-icon-106\"/>\r\n                <input \r\n                  className=\"cd-btn-picture-btn\"\r\n                  onChange={(e) => this.handleChange(e)}\r\n                  ref={dom => this.input = dom} \r\n                  type=\"file\"  \r\n                  accept=\"image/*\" \r\n                  capture=\"camera\" \r\n                  multiple\r\n                />\r\n              </div>  \r\n            }\r\n            \r\n          </div>          \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(state => ({app_user: state.user}))(withRouter(CreateDynamic))","// 封装axios\r\nimport axios from 'axios'\r\nimport QS from 'qs'\r\nimport {localStorageGet}  from '@/utils'\r\n// import Toast from ''\r\n\r\n//保存环境变量\r\n// const isPrd = process.env.NODE_ENV == 'production';\r\n//区分开发环境还是生产环境基础URL\r\n// export const basicUrl = isPrd ? process.env.REACT_APP_API_URL : 'http://localhost:3001/web/api'\r\nexport const basicUrl = 'http://pet.zhengjunqin.top/web/api'\r\n\r\n// 设置axios基本路径\r\nconst service = axios.create({\r\n  baseURL: basicUrl\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(config => { \r\n  const token = localStorageGet('userToken')\r\n  // 在每次的请求中添加token\r\n  // config.data = Object.assign({}, config.data, {\r\n  //   token: token,\r\n  // })\r\n  if (token) {\r\n    console.log('有token，设置token1', token)\r\n    config.headers.Authorization = 'Bearer ' + token\r\n  }\r\n  // 设置请求头\r\n  // config.headers = {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\r\n  // }\r\n  // config.data = QS.stringify(config.data)\r\n  return config\r\n}, error => { \r\n  return Promise.reject(error);\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  //根据返回不同的状态码做不同的事情\r\n  // 这里一定要和后台开发人员协商好统一的错误状态码\r\n  if (response.code) {\r\n    switch (response.code) {\r\n      case 200:\r\n        return response.data;\r\n      case 401:\r\n        //未登录处理方法\r\n        console.log('用户未登录')\r\n        break;\r\n      case 403:\r\n        //token过期处理方法\r\n        console.log('用户token过期')\r\n        break;\r\n      default:\r\n        // 发送错误消息\r\n        // message.error(response.data.msg)\r\n        window.alert('错误消息', response.data.msg)\r\n        console.log('错误消息', response.data.msg)\r\n    }\r\n  } else { \r\n    return response;\r\n  }\r\n})\r\n//最后把封装好的axios导出\r\nexport default service\r\n","// 统一管理接口\r\nimport service from './index'\r\n\r\n// 获取上级分类为商品的分类\r\nexport const apiCategories = () => service.get('/categories/commodity')\r\n// 获取上级分类为category的商品列表\r\nexport const apiCommodities = (category,page) => service.get(`/commodities/${category}/${page}`)\r\n// 根据id获取商品信息\r\nexport const apiCommodity = (_id) => service.get(`/commodity/${_id}`)\r\n\r\n// 获取用户详细信息\r\nexport const apiUserDetail = (user_id) => service.get(`/user/detail/${user_id}`)\r\n// 获取一些用户\r\nexport const apiUserListSome = () => service.get('/user/list/some')\r\n// 注册用户\r\nexport const apiRegister = (body) => service.post('/register', body)\r\n// 更新用户信息\r\nexport const apiUserUpdate = (user_id,body) => service.put(`/user/update/${user_id}`, body)\r\n// 登录\r\nexport const apiLogin = (body) => service.post('/login', body)\r\n// 查看是否有用户名\r\nexport const apiIsExistUsername = (body) => service.get('/isExistUsername', body)\r\n// 关注\r\nexport const apiFollow = (app_user_id, follow_user_id) => service.get(`/user/follow/add/${app_user_id}/${follow_user_id}`)\r\n\r\n// 获取购物车列表，传入的id是用户id\r\nexport const apiCartList = (_id) => service.get(`/cart/list/${_id}`)\r\n// 更新购物车列表，传入的id是用户id\r\nexport const apiUpdateCartList = (_id,body) => service.put(`/cart/list/update/${_id}`, body)\r\n// 将商品添加到购物车列表，id为用户id，body传入商品_id\r\nexport const apiCartAddCommodity = (_id, body) => service.post(`/cart/list/add/${_id}`, body)\r\n\r\n// 获取地址列表 id为用户id\r\nexport const apiAddressList = (_id) => service.get(`/address/list/${_id}`)\r\n// 添加地址\r\nexport const apiAddAddress = (body) => service.post('/address/create', body)\r\n// 删除地址，传入的是地址的id\r\nexport const apiDeleteAddress = (_id) => service.delete(`address/delete/${_id}`)\r\n\r\n// 获取订单列表，id为用户id\r\nexport const apiOrderList = (_id) => service.get(`/order/list/${_id}`)\r\n// 创建添加订单\r\nexport const apiAddOrder = (body) => service.post('/order/create', body)\r\n\r\n// 创建动态\r\nexport const apiDynamicCreate = (body) => service.post('/dynamic/create', body)\r\n// 获取动态列表，body为查询条件\r\nexport const apiDynamicList = (page) => service.get(`/dynamic/list/${page}`)\r\n// 更新动态点赞\r\nexport const apiDynamicGood = (dynamic_id, user_id) => service.get(`/dynamic/good/${dynamic_id}/${user_id}`)\r\n// 获取单个动态的详细信息\r\nexport const apiDynamicDetail = (dynamic_id) => service.get(`/dynamic/detail/${dynamic_id}`)\r\n// 获取个人动态列表\r\nexport const apiDynamicMyList = (user_id) => service.get(`dynamic/my/list/${user_id}`)\r\n\r\n// 创建评论\r\nexport const apiCommonCreate = (body) => service.post('/common/create', body)\r\n// 评论点赞\r\nexport const apiCommonGood = (user_id, common_id) => service.get(`/common/good/${user_id}/${common_id}`)\r\n// 获取次级评论详情\r\nexport const apiCommonSecondDetail = (common_id) => service.get(`/common/second/detail/${common_id}`)\r\n// 删除评论\r\nexport const apiCommonDelete = (common_id) => service.delete(`/common/delete/${common_id}`)\r\n// 获取个人发布的评论列表\r\nexport const apiCommonMyList = (user_id) => service.get(`/common/my/list/${user_id}`)\r\n\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './index.less'\r\n\r\nclass NavBar extends Component {\r\n  state = {\r\n    height: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    const height = this.navbar.clientHeight\r\n    this.setState({height})\r\n    // 如果父元素想获取该组件的高度，就发送给他\r\n    this.props.getHeight && this.props.getHeight(height)\r\n  }\r\n\r\n  render() {\r\n    console.log('this.props.style', this.props.style)\r\n    return (\r\n      <div ref={dom => this.navbar = dom} style={this.props.style || {backgroundColor: this.props.bgColor || '#FFF', top: 0}} className={`navbar-container padding1 flex ${this.props.className} ${this.props.noSticky || 'sticky'}`}>\r\n        <div>\r\n          {(typeof this.props.leftSlot === 'boolean' ) || this.props.leftSlot || <i className=\"iconfont icon-icon-63 line-center\" style={{color: this.props.color}} onClick={() => this.props.history.goBack()} />}\r\n        </div>\r\n        <div className=\"flex1 text-center margin1-lr\">\r\n          {this.props.centerSlot || <span className=\"font3 font-bold\" style={{color: this.props.color}}>{this.props.title}</span>}\r\n        </div>\r\n        <div className=\"navbar-container-right\">\r\n          {this.props.rightSlot || ''}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(NavBar)","import React, { Component } from 'react'\r\nimport './index.less'\r\n\r\nexport default class Button extends Component {\r\n  handleClick = (e) => {\r\n    e.stopPropagation()\r\n    if (this.props.type !== 'useless') {\r\n      this.props.onClick(e)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div \r\n        onClick={this.handleClick} \r\n        style={this.props.style}\r\n        className={`my-button ${this.props.type || 'default'} ${this.props.className}`}\r\n      >{this.props.title || this.props.children}</div>\r\n    )\r\n  }\r\n}\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n    root.PubSub = PubSub;\n    factory(PubSub);\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        var count = 0;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                count++;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n"],"sourceRoot":""}